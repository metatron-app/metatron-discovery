<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="ddp-layout-popuptype" *ngIf="showFlag">
  <em class="ddp-bg-popup"></em>
  <div class="ddp-ui-popup">
    <!-- title -->
    <div class="ddp-ui-popup-title">
      <span class="ddp-txt-title-name">Rename</span>
      <div class="ddp-ui-pop-buttons">
        <a href="javascript:" class="ddp-btn-pop" (click)="close()">{{'msg.comm.btn.cancl' | translate}}</a>
        <a href="javascript:" class="ddp-btn-pop ddp-bg-black" (click)="applyRename()">{{'msg.comm.btn.done2' | translate}}</a>
      </div>
    </div>
    <!-- //title -->
    <div class="ddp-page-rename">
      <div class="ddp-wrap-rename">
        <!-- result -->
        <div class="ddp-result">
          <span class="ddp-col" *ngIf="colNames.length < 2">{{colNames.length}} column</span>
          <span class="ddp-col" *ngIf="colNames.length > 1 ">{{colNames.length}} columns</span>
          <span class="ddp-name">{{datasetName}}</span>
        </div>
        <!-- //result -->
        <!-- column -->
        <div class="ddp-wrap-list">

          <table class="ddp-table-column">
            <colgroup>
              <col width="50%">
              <col width="50%">
            </colgroup>
            <thead>
            <tr>
              <th>{{'msg.dp.ui.before' | translate}}</th>
              <th>{{'msg.dp.ui.after' | translate}}</th>
            </tr>
            </thead>
            <tbody>
            <!-- 수정될때 ddp-selected 추가 -->
            <tr *ngFor="let col of colNames; let index = index" [ngClass]="{'ddp-selected': col.selected}">
              <td>
                <span class="ddp-txt-column">{{col.original}}</span>
                <em class="ddp-view"></em>
              </td>
              <td>
                <!-- edit -->
                <!-- 클릭시 ddp-selected 추가 -->
                <div class="ddp-box-edit" [ngClass]="{'ddp-selected':col.selected}" (click)="editRename(col,index)" (clickOutside)="disableInput(col,index)">
                  <input value="{{col.renamed}}" [(ngModel)]="col.renamed" #cols (keyup)="col.error=false;">
                  <em class="ddp-icon-edit"></em>
                </div>
                <!-- //edit -->
                <span class="ddp-txt-error" *ngIf="col.error"><em class="ddp-icon-error"></em>{{errorMsg}}</span>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
        <!-- //column -->
        <!-- grid -->
        <div class="ddp-wrap-grid">
          <div class="ddp-ui-grid">
            <div grid-component style="width:100%; height: 100%;" ></div>
          </div>

        </div>
        <!-- //grid -->
      </div>
    </div>

  </div>
</div>
