<div class="ddp-box-part" *ngIf="isShow">
  <div class="ddp-box-title">
    {{'msg.lineage.ui.list.search.column' | translate}}<em class="ddp-icon-essential"></em>
  </div>
  <!-- select box -->
  <edit-rule-field-combo [isMulti]="true" [fields]="fields" [selected]="selectedFields" [tabIndex]="2"
                         (onChange)="changeFields($event)" ></edit-rule-field-combo>
  <!-- //select box -->
</div>
<!--//part-->

<!--part-->
<div class="ddp-box-part" *ngIf="isShow">
  <div class="ddp-box-title">
    <span class="ddp-box-title-in">
        {{'msg.dp.th.formula' | translate}}<em class="ddp-icon-essential"></em>
        <a href="javascript:" class="ddp-btn-plus" (click)="addFormula();"></a>
    </span>
  </div>
  <div class="ddp-wrap-box-info" [ngClass]="{'ddp-selected':isFocus}">
    <!--box scroll -->
    <div class="ddp-wrap-boxwrap">
      <div class="ddp-wrap-boxadd" *ngFor="let item of formulaList;trackBy:trackByFn;let idx = index;">
        <div class="ddp-wrap-datainput">
          <rule-condition-input
            [formula]="item" [command]="'pivot'" [fields]="fields" [tabIndex]="3"
            (onChange)="formulaList[idx] = $event"></rule-condition-input>
        </div>
        <div class="ddp-ui-buttons">
          <a href="javascript:" class="ddp-btn-minus" (click)="deleteFormula(idx)"></a>
        </div>
      </div>
    </div>
  </div>
</div>
<!--//part-->

<!--part-->
<div class="ddp-box-part" *ngIf="isShow">
  <div class="ddp-box-title">
    {{'msg.dp.th.group.by' | translate}}<em class="ddp-icon-essential"></em>
  </div>

  <!-- select box -->
  <edit-rule-field-combo [isMulti]="true" [fields]="fields" [selected]="selectedGroupFields" [tabIndex]="4"
                         (onChange)="changeGroupFields($event)" [effectGrid]="false"></edit-rule-field-combo>
  <!-- //select box -->
</div>
