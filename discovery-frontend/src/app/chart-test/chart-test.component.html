<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<meta charset="utf-8" />
<input type="button" class="btn chart" value="Bar" [ngClass]="{selected: currentChart === 'bar'}" (click)="selectChart('bar')"/>
<input type="button" class="btn chart" value="Line" [ngClass]="{selected: currentChart === 'line'}" (click)="selectChart('line')"/>
<!--<input type="button" class="btn chart" value="Control" [ngClass]="{selected: currentChart === 'control'}" (click)="selectChart('control')"/>-->
<!--<input type="button" class="btn chart" value="Scatter" [ngClass]="{selected: currentChart === 'scatter'}" (click)="selectChart('scatter')"/>-->
<!--<input type="button" class="btn chart" value="HeatMap" [ngClass]="{selected: currentChart === 'heatmap'}" (click)="selectChart('heatmap')"/>-->
<input type="button" class="btn chart" value="Grid" [ngClass]="{selected: currentChart === 'grid'}" (click)="selectChart('grid')"/>
<!--<input type="button" class="btn chart" value="BoxPlot" [ngClass]="{selected: currentChart === 'boxplot'}" (click)="selectChart('boxplot')"/>-->
<!--<input type="button" class="btn chart" value="Pie" [ngClass]="{selected: currentChart === 'pie'}" (click)="selectChart('pie')"/>-->
<input type="button" class="btn chart" value="Label" [ngClass]="{selected: currentChart === 'label'}" (click)="selectChart('label')"/>
<input type="button" class="btn chart" value="WordCloud" [ngClass]="{selected: currentChart === 'wordcloud'}" (click)="selectChart('wordcloud')"/>
<!--<input type="button" class="btn chart" value="WaterFall" [ngClass]="{selected: currentChart === 'waterfall'}" (click)="selectChart('waterfall')"/>-->
<input type="button" class="btn chart" value="Radar" [ngClass]="{selected: currentChart === 'radar'}" (click)="selectChart('radar')"/>
<input type="button" class="btn chart" value="Combine" [ngClass]="{selected: currentChart === 'combine'}" (click)="selectChart('combine')"/>
<!--<input type="button" class="btn chart" value="TreeMap" [ngClass]="{selected: currentChart === 'treemap'}" (click)="selectChart('treemap')"/>-->
<input type="button" class="btn chart" value="Network" [ngClass]="{selected: currentChart === 'network'}" (click)="selectChart('network')"/>
<input type="button" class="btn chart" value="Sankey" [ngClass]="{selected: currentChart === 'sankey'}" (click)="selectChart('sankey')"/>

<div class="box">
  <div class="left">
    <div class="chartCanvas" style="width: 100%; height: 100%;">
      <bar-chart #chart [resultData]="testData" [uiOption]="uiOption" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'bar'"></bar-chart>
      <line-chart #chart [resultData]="testData" [uiOption]="uiOption" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'line'"></line-chart>
      <!--<scatter-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'scatter'"></scatter-chart>-->
      <!--<heatmap-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'heatmap'"></heatmap-chart>-->
      <grid-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'grid'"></grid-chart>
      <!--<boxplot-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'boxplot'"></boxplot-chart>-->
      <!--<pie-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" (chartSelectInfo)="chartSelectInfo($event)" *ngIf="currentChart === 'pie'"></pie-chart>-->
      <label-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'label'"></label-chart>
      <wordcloud-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'wordcloud'"></wordcloud-chart>
      <!--<waterfall-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'waterfall'"></waterfall-chart>-->
      <radar-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'radar'"></radar-chart>
      <combine-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'combine'"></combine-chart>
      <!--<treemap-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'treemap'"></treemap-chart>-->
      <network-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'network'"></network-chart>
      <sankey-chart #chart [resultData]="testData" [uiOption]="uiOption" (uiOptionUpdated)="updateUIOption($event)" *ngIf="currentChart === 'sankey'"></sankey-chart>
    </div>
  </div>
  <div class="right">
    <!--<div>
      <input type="button" class="btn" value="revert" (click)="selectChart(currentChart);"/>
    </div>-->
    <div *ngIf="possibleChartCheck('color', currentChart)">
      <h3>Color</h3>
      <input type="button" class="btn" value="Color by Dimension" [ngClass]="{selected: uiOption.color.type === 'dimension'}" (click)="colorByDimension();" [disabled]="!possibleChartCheck('colorD', currentChart)" />
      <input type="button" class="btn" value="Color by Measure" [ngClass]="{selected: uiOption.color.type === 'measure'}" (click)="colorByMeasure();" [disabled]="!possibleChartCheck('colorM', currentChart)"/>
      <input type="button" class="btn" value="Color by Value" [ngClass]="{selected: uiOption.color.type === 'value'}" (click)="colorByValue();" [disabled]="!possibleChartCheck('colorV', currentChart)"/>
    </div>
    <div *ngIf="currentChart !== 'grid'"><br></div>
    <div *ngIf="currentChart !== 'grid'">
      <h3>TargetField</h3>
      <input type="button" *ngFor="let field of uiOption.fieldList; let idx = index" class="btn" value="{{ field }}" [ngClass]="{selected: uiOption.color.type === 'dimension' && uiOption.color.targetField === field}" (click)="colorByDimension(field)" [disabled]="uiOption.color.type.toString() !== 'dimension'" />
    </div>
    <div *ngIf="currentChart === 'grid'">
      <div>
        <h3>Color</h3>
        <input type="button" class="btn" value="Background" [ngClass]="{selected: uiOption.color.mark === 'BACKGROUND'}" (click)="colorByCell('BACKGROUND');" />
        <input type="button" class="btn" value="Text" [ngClass]="{selected: uiOption.color.mark === 'TEXT'}" (click)="colorByCell('TEXT');" />
      </div>
      <br>
      <div>
        <h3>Text Align</h3>
        <input type="button" class="btn" value="Left" [ngClass]="{selected: uiOption.series.align.hAlign === 'LEFT'}" (click)="textAlign('LEFT');" />
        <input type="button" class="btn" value="Center" [ngClass]="{selected: uiOption.series.align.hAlign === 'CENTER'}" (click)="textAlign('CENTER');" />
        <input type="button" class="btn" value="Right" [ngClass]="{selected: uiOption.series.align.hAlign === 'RIGHT'}" (click)="textAlign('RIGHT');" />
      </div>
      <br>
      <div>
        <h3>Text Vertical Align</h3>
        <input type="button" class="btn" value="Top" [ngClass]="{selected: uiOption.series.align.vAlign === 'TOP'}" (click)="textVAlign('TOP');" />
        <input type="button" class="btn" value="Middle" [ngClass]="{selected: uiOption.series.align.vAlign === 'MIDDLE'}" (click)="textVAlign('MIDDLE');" />
        <input type="button" class="btn" value="Bottom" [ngClass]="{selected: uiOption.series.align.vAlign === 'BOTTOM'}" (click)="textVAlign('BOTTOM');" />
      </div>
      <br>
      <div>
        <h3>Layout</h3>
        <input type="button" class="btn" value="Veritical" [ngClass]="{selected: uiOption.series.layout === 'VERTICAL'}" (click)="gridLayout('VERTICAL');" />
        <input type="button" class="btn" value="Horizontal" [ngClass]="{selected: uiOption.series.layout === 'HORIZONTAL'}" (click)="gridLayout('HORIZONTAL');" />
      </div>
      <br>
      <div>
        <h3>Show Value Column</h3>
        <input type="button" class="btn" value="{{ showButtonValue(uiOption.series['showValueColumn']) }}" (click)="showValueColumn(!uiOption.series['showValueColumn']);" />
      </div>
    </div>
    <div *ngIf="currentChart === 'grid'"><br></div>
    <div *ngIf="possibleChartCheck('axis', currentChart)">
      <div *ngFor="let axis of uiOption.label.axis; let idx = index">
        <div *ngIf="axis.mode.toString() === 'row'">
          <h3>X Axis Name </h3>
          <input type="button" class="btn" value="{{ showButtonValue(axis.showName) }}" (click)="showAxisName('row', !axis.showName, $event);"/>
          <input type="text" [(ngModel)]="axis.name" (keyup.enter)="axisName('row', idx, $event)" (blur)="axisName('row', idx, $event)" [disabled]="!axis.showName" />
        </div>
        <div *ngIf="axis.mode.toString() === 'row'">
          <h3>X Axis Label</h3>
          <input type="button" class="btn" value="{{ showButtonValue(axis.showMark) }}" (click)="showAxisLabel('row', !axis.showMark, $event);"/>
          <div>
            <input type="button" class="btn" value="Rotate 0" [ngClass]="{selected: axis.mark === 'HORIZONTAL' && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('row', 'HORIZONTAL');" />
            <input type="button" class="btn" value="Rotate 90" [ngClass]="{selected: axis.mark === 'VERTICAL'  && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('row', 'VERTICAL');" />
            <input type="button" class="btn" value="Rotate 45" [ngClass]="{selected: axis.mark === 'SLOPE'  && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('row', 'SLOPE');" />
          </div>
        </div>
      </div>
      <br>
      <div *ngFor="let axis of uiOption.label.axis; let idx = index">
        <div *ngIf="axis.mode.toString() === 'column'">
          <h3>Y Axis Name</h3>
          <input type="button" class="btn" value="{{ showButtonValue(axis.showName) }}" (click)="showAxisName('column', !axis.showName, $event);"/>
          <input type="text" [(ngModel)]="axis.name" (keyup.enter)="axisName('column', idx, $event)" (blur)="axisName('column', idx, $event)" [disabled]="!axis.showName" />
        </div>
        <div *ngIf="axis.mode.toString() === 'column'">
          <h3>Y Axis Label</h3>
          <input type="button" class="btn" value="{{ showButtonValue(axis.showMark) }}" (click)="showAxisLabel('column', !axis.showMark, $event);"/>
          <div>
            <input type="button" class="btn" value="Rotate 0" [ngClass]="{selected: axis.mark === 'HORIZONTAL' && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('column', 'HORIZONTAL');" />
            <input type="button" class="btn" value="Rotate 90" [ngClass]="{selected: axis.mark === 'VERTICAL'  && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('column', 'VERTICAL');" />
            <input type="button" class="btn" value="Rotate 45" [ngClass]="{selected: axis.mark === 'SLOPE'  && axis.showMark}" [disabled]="!axis.showMark" (click)="rotateAxisLabel('column', 'SLOPE');" />
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="possibleChartCheck('axis', currentChart)"><br></div>
    <div *ngIf="possibleChartCheck('valueLabel', currentChart)">
      <h3>Value Label</h3>
      <input type="button" class="btn" value="{{ showButtonValue(uiOption.label.showValue) }}" (click)="showValueLabel(!uiOption.label.showValue);" />
    </div>
    <div *ngIf="possibleChartCheck('format', currentChart)">
      <h3>Format</h3>
      <input type="button" class="btn" value="Number" [ngClass]="{selected: (uiOption.valueFormat && uiOption.valueFormat.type === 'number')}" (click)="format('number');"/>
      <input type="button" class="btn" value="Currency" [ngClass]="{selected: (uiOption.valueFormat && uiOption.valueFormat.type === 'currency')}" (click)="format('currency');"/>
      <input type="button" class="btn" value="Percentage" [ngClass]="{selected: (uiOption.valueFormat && uiOption.valueFormat.type === 'percent')}" (click)="format('percent');"/>
      <input type="button" class="btn" value="Exponent" [ngClass]="{selected: (uiOption.valueFormat && uiOption.valueFormat.type === 'exponent10')}" (click)="format('exponent10');"/>
      <h3>Format: Thousand Separator</h3>
      <input type="button" class="btn" value="{{ showButtonValue((uiOption.valueFormat && uiOption.valueFormat.useThousandsSep)) }}" (click)="formatUseThousandsSep(!uiOption.valueFormat.useThousandsSep);"/>
      <h3>Format: Decimal</h3>
      <input type="text" [(ngModel)]="uiOption.valueFormat.decimal" (keyup.enter)="formatDecimal($event.currentTarget.value)" (blur)="formatDecimal($event.currentTarget.value)" />
    </div>
    <div *ngIf="possibleChartCheck('valueLabel', currentChart)"><br></div>
    <div *ngIf="possibleChartCheck('logScale', currentChart)">
      <h3>Log Scale Mode</h3>
      <input type="button" class="btn" value="{{ showButtonValue(uiOption.label.scaled) }}" (click)="logScaleMode(!uiOption.label.scaled);" />
    </div>
    <div *ngIf="possibleChartCheck('logScale', currentChart)"><br></div>
    <div *ngIf="possibleChartCheck('legend', currentChart)">
      <h3>Legend</h3>
      <input type="button" class="btn" value="{{ showButtonValue(uiOption.legend.auto) }}" (click)="showLegend(!uiOption.legend.auto);" />
    </div>
    <div *ngIf="possibleChartCheck('legend', currentChart)"><br></div>
    <div *ngIf="possibleChartCheck('minimap', currentChart)">
      <h3>MiniMap</h3>
      <input type="button" class="btn" value="{{ showButtonValue(uiOption.chartZooms[0].auto) }}" (click)="showDataZoom(!uiOption.chartZooms[0].auto);" />
    </div>
    <div *ngIf="possibleChartCheck('minimap', currentChart)"><br></div>
    <div *ngIf="possibleChartCheck('barExpress', currentChart)">
      <div *ngIf="currentChart === 'bar' || currentChart === 'waterfall'" >
        <h3>Orient</h3>
        <input type="button" class="btn" value="Vertical Mode" [ngClass]="{selected: uiOption.series.align === 'VERTICAL'}" (click)="orientType('VERTICAL');" />
        <input type="button" class="btn" value="Horizontal Mode" [ngClass]="{selected: uiOption.series.align === 'HORIZONTAL'}" (click)="orientType('HORIZONTAL');" />
        <br>
      </div>
      <div *ngIf="currentChart === 'bar' || currentChart === 'combine'">
        <h3>View Type</h3>
        <input type="button" class="btn" value="Multiple Mode" [ngClass]="{selected: uiOption.series.mark === 'MULTIPLE' || uiOption.series.barMarkType === 'MULTIPLE'}" (click)="barSeriesViewType('MULTIPLE');" />
        <input type="button" class="btn" value="Stack Mode" [ngClass]="{selected: uiOption.series.mark === 'STACKED' || uiOption.series.barMarkType === 'STACKED'}" (click)="barSeriesViewType('STACKED');" />
        <br>
      </div>
      <br>
      <div *ngIf="currentChart === 'bar'">
        <h3>Value DataUnit</h3>
          <input type="button" class="btn" value="Origin" [ngClass]="{selected: uiOption.series.unitType === 'NONE'}" (click)="dataUnit('NONE');" />
          <input type="button" class="btn" value="Percentile" [ngClass]="{selected: uiOption.series.unitType === 'PERCENT'}" (click)="dataUnit('PERCENT');" />
      </div>
    </div>
    <div *ngIf="possibleChartCheck('lineExpress', currentChart)">
      <div *ngIf="currentChart === 'line' || currentChart === 'control'">
        <h3>Line Show</h3>
        <input type="button" class="btn" value="Line & Point" [ngClass]="{selected: uiOption.series.hasLine && uiOption.series.hasPoint}" (click)="showLine(true, true);" />
        <input type="button" class="btn" value="Line Only" [ngClass]="{selected: uiOption.series.hasLine && !uiOption.series.hasPoint}" (click)="showLine(true, false);" />
        <input type="button" class="btn" value="Point Only" [ngClass]="{selected: !uiOption.series.hasLine && uiOption.series.hasPoint}" (click)="showLine(false, true);" />
      </div>
      <br>
      <div *ngIf="currentChart === 'line' || currentChart === 'combine'">
        <h3>ViewType</h3>
        <input type="button" class="btn" value="Line Mode" [ngClass]="{selected: uiOption.series.mark === 'LINE' || uiOption.series.lineMarkType === 'LINE'}" (click)="lineSeriesViewType('LINE');" />
        <input type="button" class="btn" value="Area Mode" [ngClass]="{selected: uiOption.series.mark === 'AREA' || uiOption.series.lineMarkType === 'AREA'}" (click)="lineSeriesViewType('AREA');" />
      </div>
      <br>
      <div *ngIf="currentChart === 'line'">
        <h3>Cumulative</h3>
        <input type="button" class="btn" value="{{ showButtonValue(uiOption.series['isAccumulate']) }}" (click)="cumulativeMode(!uiOption.series['isAccumulate']);" />
      </div>
    </div>
    <div *ngIf="possibleChartCheck('scatterExpress', currentChart)">
      <div>
        <h3>Symbol Fill</h3>
        <input type="button" class="btn" value="Opaque" [ngClass]="{selected: uiOption.series.mark ==='SINGLE'}" (click)="symbolFill('SINGLE');" />
        <input type="button" class="btn" value="Translucent" [ngClass]="{selected: uiOption.series.mark === 'TRANSPARENT'}" (click)="symbolFill('TRANSPARENT');" />
      </div>
      <br>
      <div>
        <h3>Symbol Type</h3>
        <input type="button" class="btn" value="Circle" [ngClass]="{selected: uiOption.series.shape === 'CIRCLE'}" (click)="symbolType('CIRCLE');" />
        <input type="button" class="btn" value="Square" [ngClass]="{selected: uiOption.series.shape === 'RECT'}" (click)="symbolType('RECT');" />
        <input type="button" class="btn" value="Triangle" [ngClass]="{selected: uiOption.series.shape === 'TRIANGLE'}" (click)="symbolType('TRIANGLE');" />
        <br>
        <input type="button" class="btn" value="diamond" [ngClass]="{selected: uiOption.series.shape === 'DIAMOND'}" (click)="symbolType('DIAMOND');" />
        <input type="button" class="btn" value="Pin" [ngClass]="{selected: uiOption.series.shape === 'PIN'}" (click)="symbolType('PIN');" />
        <input type="button" class="btn" value="Arrow" [ngClass]="{selected: uiOption.series.shape === 'ARROW'}" (click)="symbolType('ARROW');" />
      </div>
    </div>
    <div *ngIf="possibleChartCheck('pieExpress', currentChart)">
      <div>
        <h3>View Type</h3>
        <input type="button" class="btn" value="Sector" [ngClass]="{selected: uiOption.series.viewType === 'SECTOR'}" (click)="pieSeriesViewType('SECTOR');" />
        <input type="button" class="btn" value="Donut" [ngClass]="{selected: uiOption.series.viewType  === 'DONUT'}" (click)="pieSeriesViewType('DONUT');" />
      </div>
    </div>

    <!--<div *ngIf="possibleChartCheck('brush', currentChart)">-->
      <!--<h3>MouseMode</h3>-->
      <!--<input type="button" class="btn" value="Single" [ngClass]="{selected: uiOption.mouseMode ==='single'}" (click)="mouseMode('single');" />-->
      <!--<input type="button" class="btn" value="Multi" [ngClass]="{selected: uiOption.mouseMode === 'multi'}" (click)="mouseMode('multi');" />-->
      <!--<input type="button" class="btn" value="ZoomIn" [ngClass]="{selected: uiOption.mouseMode === 'zoomin'}" (click)="mouseMode('drag-zoomin');" />-->
    <!--</div>-->
  </div>
</div>
