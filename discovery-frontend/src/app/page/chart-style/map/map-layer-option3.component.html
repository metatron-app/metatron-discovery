<div class="ddp-ui-chart-side ddp-show">
  <div class="ddp-filter">
    <div class="ddp-ui-side-title">
      {{'msg.page.layer.map' | translate}}
    </div>
    <div class="ddp-wrap-downmenu">
      <div class="ddp-box-down">
        <div class="ddp-wrap-divide">
          <!-- divide -->
          <div class="ddp-divide2 ">
              <div class="ddp-list-label">
                {{'msg.page.layer.map.name' | translate}}
              </div>
              <input type="text" class="ddp-input-typebasic" placeholder="" [(ngModel)]="uiOption.layers[2].name">
          </div>
          <!-- //divide -->
          <!-- divide -->
          <div class="ddp-type-map-chart" style="display:;">
            <div class="ddp-divide2 ">
                <div class="ddp-list-label">
                  {{'msg.page.layer.map.type' | translate}}
                   :
                   <strong *ngIf="type === 'symbol'">{{'msg.page.layer.map.type.point' | translate}}</strong>
                   <strong *ngIf="type === 'line'">{{'msg.page.layer.map.type.line' | translate}}</strong>
                   <strong *ngIf="type === 'polygon'">{{'msg.page.layer.map.type.polygon' | translate}}</strong>
                   <strong *ngIf="type === 'heatmap'">{{'msg.page.layer.map.type.heatmap' | translate}}</strong>
                   <strong *ngIf="type === 'tile'">{{'msg.page.layer.map.type.tile' | translate}}</strong>
                 </div>
                <div class="ddp-wrap-tab-type2">
                  <ul class="ddp-list-tab-type2 ddp-clear">
                        <li *ngIf="uiOption.layers[2].type === 'symbol' || uiOption.layers[2].type === 'heatmap' || uiOption.layers[2].type === 'tile'" [ngClass]="{'ddp-selected': uiOption.layers[2].type === 'symbol'}" (click)="mapLayerType('symbol');">
                            <a href="javascript:">
                                <em class="ddp-icon-map-sign"></em>
                            </a>
                            <!-- tooltip -->
                            <div class="ddp-ui-tooltip-info">
                                <em class="ddp-icon-view-top"></em>
                                <span class="ddp-txt-tooltip">{{'msg.page.layer.map.type.point' | translate}}</span>
                            </div>
                            <!-- //tooltip -->

                        </li>
                        <!-- <li *ngIf="uiOption.layers[2].type === 'line'" [ngClass]="{'ddp-selected': uiOption.layers[2].type === 'line'}" (click)="mapLayerType('line');">
                            <a href="javascript:">
                                <em class="ddp-img-map-line"></em>
                            </a> -->
                            <!--&lt;!&ndash; tooltip &ndash;&gt;-->
                            <!-- <div class="ddp-ui-tooltip-info">
                                <em class="ddp-icon-view-top"></em>
                                <span class="ddp-txt-tooltip">{{'msg.page.layer.map.type.line' | translate}}</span>
                            </div> -->
                            <!--&lt;!&ndash; //tooltip &ndash;&gt;-->

                        <!-- </li> -->
                        <!-- <li *ngIf="uiOption.layers[2].type === 'polygon'" [ngClass]="{'ddp-selected': uiOption.layers[2].type === 'polygon'}" (click)="mapLayerType('polygon');">
                            <a href="javascript:">
                                <em class="ddp-img-map-polygon"></em>
                            </a> -->
                            <!--&lt;!&ndash; tooltip &ndash;&gt;-->
                            <!-- <div class="ddp-ui-tooltip-info">
                                <em class="ddp-icon-view-top"></em>
                                <span class="ddp-txt-tooltip">{{'msg.page.layer.map.type.polygon' | translate}}</span>
                            </div> -->
                            <!--&lt;!&ndash; //tooltip &ndash;&gt;-->

                        <!-- </li> -->
                        <li *ngIf="uiOption.layers[2].type === 'symbol' || uiOption.layers[2].type === 'heatmap' || uiOption.layers[2].type === 'tile'" [ngClass]="{'ddp-selected': uiOption.layers[2].type === 'heatmap'}" (click)="mapLayerType('heatmap');">
                            <a href="javascript:">
                                <em class="ddp-icon-map-heatmap"></em>
                            </a>
                            <!-- tooltip -->
                            <div class="ddp-ui-tooltip-info" style="width: 65px;">
                                <em class="ddp-icon-view-top"></em>
                                <span class="ddp-txt-tooltip">{{'msg.page.layer.map.type.heatmap' | translate}}</span>
                            </div>
                            <!-- //tooltip -->
                        </li>
                        <li *ngIf="uiOption.layers[2].type === 'symbol' || uiOption.layers[2].type === 'heatmap' || uiOption.layers[2].type === 'tile'" [ngClass]="{'ddp-selected': uiOption.layers[2].type === 'tile'}" (click)="mapLayerType('tile');">
                            <a href="javascript:">
                                <em class="ddp-icon-map-tile"></em>
                            </a>
                            <!-- tooltip -->
                            <div class="ddp-ui-tooltip-info">
                                <em class="ddp-icon-view-top"></em>
                                <span class="ddp-txt-tooltip">{{'msg.page.layer.map.type.tile' | translate}}</span>
                            </div>
                            <!-- //tooltip -->

                        </li>
                    </ul>
                </div>
            </div>
            <!-- //divide -->

          <!-- 레이어 유형 : 기호 -->
          <div class="ddp-ui-layer-type" *ngIf="uiOption.layers[2].type === 'symbol'">
              <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2 ">
                    <div class="ddp-list-label">{{'msg.page.layer.map.point' | translate}}</div>
                    <ul class="ddp-list-express ddp-tab6 ddp-type2">
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'CIRCLE'}" (click)="symbolType('CIRCLE');">
                            <em class="ddp-icon-circle"></em> {{'msg.page.layer.map.point.circle' | translate}}
                        </li>
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'SQUARE'}" (click)="symbolType('SQUARE');">
                            <em class="ddp-icon-square"></em> {{'msg.page.layer.map.point.square' | translate}}
                        </li>
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'TRIANGLE'}" (click)="symbolType('TRIANGLE');">
                            <em class="ddp-icon-triangle"></em> {{'msg.page.layer.map.point.triangle' | translate}}
                        </li>
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'PIN'}" (click)="symbolType('PIN');">
                            <em class="ddp-icon-pin"></em> {{'msg.page.layer.map.point.pin' | translate}}
                        </li>
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'PLANE'}" (click)="symbolType('PLANE');">
                            <em class="ddp-icon-fly"></em> {{'msg.page.layer.map.point.plain' | translate}}
                        </li>
                        <li [ngClass]="{'ddp-selected': uiOption.layers[2].symbol === 'USER'}" (click)="symbolType('USER');">
                            <em class="ddp-icon-user"></em> {{'msg.page.layer.map.point.people' | translate}}
                        </li>
                    </ul>
                </div>
                <!-- //divide -->
              </div>

              <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2 ">
                  <div class="ddp-list-label">{{'msg.page.layer.map.color' | translate}}</div>
                  <div class="ddp-list-sub2">
                    <div [ngClass]="{'ddp-wrap-disabled' : 'MEASURE' == uiOption.layers[2].color.by.toString() && uiOption.layers[2].color['customMode']}">
                      <div class="ddp-divide2">
                        <div class="ddp-list-label">{{'msg.page.layer.map.color.by' | translate}}</div>
                        <!-- 사용자 색상 설정 'on' 인 경우 ddp-disabled 추가 -->
                        <!-- part -->
                        <div class="ddp-type-selectbox"
                             (click)="colorTypeFlag=!colorTypeFlag;colorListFlag=false;" (clickOutside)="colorTypeFlag=false" [excludeBeforeClick]="true">
                          <span class="ddp-txt-selectbox">{{ capitalize(uiOption.layers[2].color.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].color.by) }}</span>
                          <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="colorTypeFlag">
                            <li (click)="changeColorType('NONE')"><a href="javascript:">{{'msg.space.ui.none' | translate}}</a></li>
                            <li (click)="changeColorType('DIMENSION')"><a href="javascript:">{{'msg.page.li.color.dimension' | translate}}</a></li>
                            <li (click)="changeColorType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="javascript:">{{'msg.page.li.color.measure' | translate}}</a></li>
                          </ul>
                        </div>
                        <!-- //part -->

                        <div class="ddp-list-part ddp-divide" *ngIf="uiOption.layers[2].color.by.toString() === 'DIMENSION'">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.fieldList"
                            [defaultIndex]="uiOption.fieldList && uiOption.fieldList.indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                        <div class="ddp-list-part ddp-divide" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].color.by.toString() === 'MEASURE'">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.measureList[2]"
                            [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                      </div>
                      <div class="ddp-divide2">
                      <div class="ddp-ui-colorby">

                        <!-- colorby button -->
                        <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' !== uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                          <em class="ddp-icon-colorby"></em>
                          <!-- series, dimension 색일때 -->
                          <button class="ddp-btn-color-series{{checkDefaultSelectedColor()}} ddp-type"></button>
                          <!-- //series, dimension 색일때 -->
                        </div>
                        <!-- //colorby button -->

                        <!-- colorby button -->
                        <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' === uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                          <em class="ddp-icon-colorby"></em>
                          <!-- measure 색일때 -->
                          <button class="ddp-btn-color-type{{checkMeasureSelectedColor()}} ddp-type"></button>
                          <!-- measure 색일때 -->
                        </div>
                        <!-- //colorby button -->

                        <div *ngIf="'NONE' === uiOption.layers[2].color.by.toString()" class="ddp-wrap-option-multy ddp-clear">
                          <div class="ddp-col-6">
                            <span class="ddp-label-txt"> </span>
                          </div>
                          <div class="ddp-col-6 ddp-txt-right">
                            <!-- selectbox -->
                            <div class="ddp-type-selectbox ddp-color-selectbox2">
                              <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                            [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                            </div>
                            <!-- //selectbox -->
                          </div>



                          <!-- <div class="ddp-col-6">
                            <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                          </div>
                          <div class="ddp-col-6 ddp-txt-right">
                            <div class="ddp-type-selectbox ddp-color-selectbox2">
                              <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                            [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                            </div>
                          </div> -->
                        </div>

                        <!-- popup -->
                        <div class="ddp-popup-side" *ngIf="colorListFlag">
                          <!-- top -->
                          <div class="ddp-pop-side-top">
                            {{'msg.page.ui.color.palette' | translate}}
                            <a href="javascript:" class="ddp-btn-close" (click)="colorListFlag=false"></a>
                          </div>
                          <!-- //top -->
                          <!-- contents -->
                          <div *ngIf="'MEASURE' !== uiOption.layers[2].color.by.toString()" class="ddp-pop-side-contents">
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of defaultColorList" (click)="changeColor(item)">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-series{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>
                          </div>
                          <!-- //contents -->
                          <!--uiOption.type.toString() == 'grid' ? gridMeasureColorList : measureColorList-->
                          <!-- contents -->
                          <div *ngIf="'MEASURE' === uiOption.layers[2].color.by.toString()"  class="ddp-pop-side-contents">
                            <span class="ddp-pop-sub-title">{{'msg.page.th.seq.display' | translate}}</span>
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of measureColorList; let num = index" (click)="changeColor(item, measureColorList[num])">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>

                            <span class="ddp-pop-sub-title">{{'msg.page.th.contrast.display' | translate}}</span>
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of measureReverseColorList; let num = index" (click)="changeColor(item, measureReverseColorList[num])">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>
                          </div>
                          <!-- //contents -->
                        </div>
                        <!-- //popup -->
                      </div>
                    </div>
                    </div>
                    <!-- color by measure part -->
                    <!-- 사용자 색상 프리셋 box down color by measure일때 -->
                    <div *ngIf="uiOption.layers[2].color?.by && 'MEASURE' == uiOption.layers[2].color?.by" class="ddp-wrap-divide">
                      <div class="ddp-wrap-option-slider">
                        <span class="ddp-label-slider">{{'msg.page.chart.color.series.color.setting' | translate}}</span>
                        <!-- Slide THREE -->
                        <div class="ddp-checkbox-slide ddp-checkbox-automatic2">
                          <input type="checkbox" [checked]="uiOption.layers[2].color['customMode']" (click)="changeColorRange()" name="check">
                          <label><span class="ddp-slide"></span></label>
                        </div>
                        <!-- //Slide THREE -->
                      </div>
                      <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-user-color">

                        <div class="ddp-list-part">
                          <!-- selectbox -->
                          <component-select
                            [array]="colorRangeTypeList"
                            [defaultIndex]="!uiOption.layers[2].color['customMode'] || 'SECTION' == uiOption.layers[2].color['customMode'] ? 0 : 1"
                            [viewKey]="'name'"
                            (onSelected)="selectColorRangeType($event)">
                          </component-select>
                          <!-- //selectbox -->
                        </div>
                        <div *ngFor="let item of rangesViewList; let index = index" class="ddp-wrap-usercolor">
                          <!-- blank -->
                          <div *ngIf="0 !== index && 'SECTION' == uiOption.layers[2].color['customMode']" (click)="addNewRange(index)" class="ddp-list-blank">
                            {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                          </div>
                          <!-- //blank -->
                          <!-- list usercolor -->
                          <div *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" class="ddp-list-usercolor">
                            <div class="ddp-box-color">
                              <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                            [showInput]="true" [showUserColor]="true" #colorPicker (selected)="colorPaletteSelected($event, item)"></color-picker>
                            </div>
                            <div class="ddp-data-range ddp-clear">
                              <div class="ddp-input-range">
                                <input [ngStyle]="{'visibility' : null == item.fixMin ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.gt"
                                       (keyup.enter)="changeRangeMinInput(item, index)" (focus)="availableRange(item, index)">
                                <!-- tooltip -->
                                <div class="ddp-ui-tooltip-info">
                                  <em class="ddp-icon-view-down"></em>
                                  {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                </div>
                                <!-- //tooltip -->
                              </div>
                              <div class="ddp-bar ">
                                ~
                              </div>
                              <div class="ddp-input-range">
                                <input [ngStyle]="{'visibility' : null == item.fixMax ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.lte"
                                       (keyup.enter)="changeRangeMaxInput(item, index)" (focus)="availableRange(item, index)">
                                <!-- tooltip -->
                                <div class="ddp-ui-tooltip-info">
                                  <em class="ddp-icon-view-down"></em>
                                  {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                </div>
                                <!-- //tooltip -->
                              </div>
                            </div>

                            <em *ngIf="uiOption.layers[2].color['ranges'].length - 1 !== index && 0 !== index && uiOption.layers[2].color['ranges'].length > 3" (click)="removeColorRange(item, index)" class="ddp-icon-listdelete"></em>
                          </div>
                        </div>
                        <!-- //list usercolor -->

                        <!-- gradation -->
                        <div *ngIf="'GRADIENT' == uiOption.layers[2].color['customMode']" class="ddp-wrap-gradation2">

                          <div class="ddp-ui-gradation">
                            <gradation-generator (changeGradation)="changeGradations($event)"
                            (clickOutside)="hideGradationColor()"></gradation-generator>

                            <!-- user color -->
                            <div class="ddp-gradx-usercolor">
                              <!-- value num -->

                              <!-- //value num -->
                              <div *ngFor="let item of uiOption.layers[2].color['ranges']; let index = index" class="ddp-wrap-usercolor">
                                <!-- blank -->
                                <div *ngIf="separateValue > uiOption.layers[2].color['ranges']['length']" (click)="addGradientRange(index)" class="ddp-list-blank">
                                  {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                                </div>
                                <!-- //blank -->
                                <!-- list usercolor -->
                                <div class="ddp-list-usercolor">
                                  <div class="ddp-box-color" id="ddp-box-color-{{index}}">
                                    <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                  [showInput]="true" [showUserColor]="true" #colorPicker (selected)="gradationColorSelected($event, item)"
                                                  (showPicker)="showGradationColor(item, index)" (hidePicker)="hideGradationColor(index)"></color-picker>
                                  </div>
                                  <div class="ddp-data-range ddp-clear">{{item.value | number: '1.0-0'}}</div>
                                  <em *ngIf="uiOption.layers[2].color['ranges'].length > 2" (click)="deleteGradientRange(item.index)" class="ddp-icon-listdelete"></em>
                                </div>
                                <!-- //list usercolor -->
                              </div>
                            </div>
                            <!-- //user color -->
                          </div>
                        </div>
                      </div>

                        <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-data-sum">
                          {{'msg.page.chart.color.measure.new.range.min' | translate}} : {{minValue}} ~ {{'msg.page.chart.color.measure.new.range.max' | translate}} : {{maxValue}}
                        </div>
                        <a *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" (click)="equalColorRange()" href="javascript:" class="ddp-btn-set">
                          {{'msg.page.chart.color.measure.new.range.split.equal' | translate}}
                        </a>
                        <!--<a *ngIf="'GRADIENT' == uiOption.color['customMode']" (click)="equalColorGradation()" href="javascript:" class="ddp-btn-set">-->
                          <!--{{'msg.page.chart.color.measure.new.range.split.equal' | translate}}-->
                        <!--</a>-->
                    </div>
                    <!-- //color by measure part -->

                    <div class="ddp-divide2">
                        <div class="ddp-list-label">{{'msg.page.layer.map.color.transparency' | translate}}</div>
                        <!-- SELECTBOX -->
                        <div class="ddp-type-selectbox" (click)="transparencyFlag=!transparencyFlag;" (clickOutside)="transparencyFlag=false" [excludeBeforeClick]="true">
                            <span class="ddp-txt-selectbox">{{ uiOption.layers[2].color.transparency === 100 ? translateService.instant('msg.page.layer.map.color.transparency.none') : translateNumber('transparency', uiOption.layers[2].color.transparency) }}</span>
                            <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="transparencyFlag">
                                <li (click)="changeTransparency(100)"><a href="#">{{'msg.page.layer.map.color.transparency.none' | translate}}</a></li>
                                <li (click)="changeTransparency(80)"><a href="#">20%</a></li>
                                <li (click)="changeTransparency(60)"><a href="#">40%</a></li>
                                <li (click)="changeTransparency(40)"><a href="#">60%</a></li>
                                <li (click)="changeTransparency(20)"><a href="#">80%</a></li>
                                <li (click)="changeTransparency(0)"><a href="#">100%</a></li>
                            </ul>
                        </div>
                        <!-- //SELECTBOX -->
                    </div>
                  </div>
                </div>
                <!-- //divide -->
              </div>

              <div class="ddp-wrap-divide">
                  <!-- divide -->
                  <div class="ddp-divide2 ">
                      <div class="ddp-list-label">{{'msg.page.layer.map.size' | translate}}</div>
                      <div class="ddp-list-sub2">
                          <div class="ddp-divide2">
                              <div class="ddp-list-label">{{'msg.page.layer.map.size.by' | translate}}</div>
                              <!-- SELECTBOX -->
                              <div class="ddp-type-selectbox" (click)="sizeTypeFlag=!sizeTypeFlag;" (clickOutside)="sizeTypeFlag=false" [excludeBeforeClick]="true">
                                  <span class="ddp-txt-selectbox">{{ uiOption.layers[2].size.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].size.by }}</span>
                                  <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="sizeTypeFlag">
                                      <li (click)="changeSizeType('NONE')"><a href="#">{{'msg.page.layer.map.size.by.none' | translate}}</a></li>
                                      <li (click)="changeSizeType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="#">{{'msg.page.layer.map.size.by.measure' | translate}}</a></li>
                                  </ul>
                              </div>
                              <!-- //SELECTBOX -->

                              <!-- part -->
                              <div class="ddp-list-part ddp-divide" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].size.by.toString() === 'MEASURE'">
                                <!-- SELECTBOX -->
                                <component-select
                                  [array]="uiOption.measureList[2]"
                                  [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].size['column'])"
                                  (onSelected)="changeSizeColumn($event)"
                                ></component-select>
                              </div>
                              <!-- //part -->
                          </div>
                      </div>
                  </div>
                  <!-- //divide -->
              </div>

              <div class="ddp-wrap-divide">
                  <!-- divide -->
                  <div class="ddp-divide2 ">
                      <div class="ddp-wrap-option-slider">
                          <span class="ddp-label-slider">{{'msg.page.layer.map.outline' | translate}}</span>
                          <!-- Slide THREE -->
                          <div class="ddp-checkbox-slide ddp-checkbox-automatic2" >
                              <input type="checkbox" name="check" [checked]="uiOption.layers[2].outline.thickness !== 'NONE'" (click)="changeOutlineFlag()">
                              <label for="check2"><span class="ddp-slide"></span></label>
                          </div>
                          <!-- //Slide THREE -->

                      </div>

                      <div class="ddp-wrap-option-multy ddp-clear" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                        <div class="ddp-col-7">
                            <span class="ddp-label-txt">{{'msg.page.layer.map.outline.color' | translate}}</span>
                        </div>
                        <div class="ddp-col-5 ddp-txt-right" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                          <!-- selectbox -->
                          <div class="ddp-type-selectbox ddp-color-selectbox2">
                            <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.outline?.color ? uiOption?.layers[2]?.outline?.color :'#FFF'" [showInitial]="true"
                                          [showInput]="true" [showUserColor]="true" (selected)="selectOutlineColor($event);"></color-picker>
                          </div>
                          <!-- //selectbox -->
                        </div>
                      </div>

                      <!-- multy -->
                      <div class="ddp-wrap-option-multy ddp-clear" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                          <div class="ddp-col-6">
                              <span class="ddp-label-txt">{{'msg.page.layer.map.outline.thickness' | translate}}</span>
                          </div>
                          <div class="ddp-col-6 ddp-txt-right">
                              <ul class="ddp-list-express ddp-tab3 ddp-type">
                                  <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'THIN'}" (click)="outlineType('THIN');"><em class="ddp-line-bold1"></em></li>
                                  <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'NORMAL'}" (click)="outlineType('NORMAL');"><em class="ddp-line-bold2"></em></li>
                                  <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'THICK'}" (click)="outlineType('THICK');"><em class="ddp-line-bold3"></em></li>
                              </ul>
                          </div>
                      </div>
                      <!-- //multy -->
                  </div>
              </div>

              <div class="ddp-wrap-divide">
                  <div class="ddp-part-check-b ">
                      <label class="ddp-label-checkbox ddp-position">
                          <input type="checkbox" [checked]="uiOption.layers[2].clustering" (click)="changeClusteringFlag()">
                          <i class="ddp-icon-checkbox"></i>
                          <span class="ddp-txt-checkbox">{{'msg.page.layer.map.clustering' | translate}}</span>
                      </label>
                  </div>
              </div>
          </div>
          <!-- //레이어 유형 : 기호 -->

          <!-- 레이어 유형 : 선 -->
          <div class="ddp-ui-layer-type" *ngIf="uiOption.layers[2].type === 'line'">
            <div class="ddp-wrap-divide">

              <!-- divide -->
              <div class="ddp-divide2 ">
                  <div class="ddp-list-label">{{'msg.page.layer.map.color' | translate}}</div>
                  <div class="ddp-list-sub2">
                      <div [ngClass]="{'ddp-wrap-disabled' : 'MEASURE' == uiOption.layers[2].color.by.toString() && uiOption.layers[2].color['customMode']}">
                        <div class="ddp-divide2">
                          <div class="ddp-list-label">{{'msg.page.layer.map.color.by' | translate}}</div>
                          <div class="ddp-type-selectbox"
                               (click)="colorTypeFlag=!colorTypeFlag;colorListFlag=false;" (clickOutside)="colorTypeFlag=false" [excludeBeforeClick]="true">
                            <span class="ddp-txt-selectbox">{{ capitalize(uiOption.layers[2].color.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].color.by) }}</span>
                            <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="colorTypeFlag">
                              <li (click)="changeColorType('NONE')"><a href="javascript:">{{'msg.space.ui.none' | translate}}</a></li>
                              <li (click)="changeColorType('DIMENSION')"><a href="javascript:">{{'msg.page.li.color.dimension' | translate}}</a></li>
                              <li (click)="changeColorType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="javascript:">{{'msg.page.li.color.measure' | translate}}</a></li>
                            </ul>
                          </div>
                        </div>
                        <div *ngIf="uiOption.layers[2].color.by.toString() === 'DIMENSION'" class="ddp-divide2">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.fieldList"
                            [defaultIndex]="uiOption.fieldList && uiOption.fieldList.indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                        <div class="ddp-divide2" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].color.by.toString() === 'MEASURE'">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.measureList[2]"
                            [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                        <div class="ddp-divide2">
                        <div class="ddp-ui-colorby">
                          <!-- colorby button -->
                          <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' !== uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                            <em class="ddp-icon-colorby"></em>
                            <!-- series, dimension 색일때 -->
                            <button class="ddp-btn-color-series{{checkDefaultSelectedColor()}} ddp-type"></button>
                            <!-- //series, dimension 색일때 -->
                          </div>
                          <!-- //colorby button -->

                          <!-- colorby button -->
                          <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' === uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                            <em class="ddp-icon-colorby"></em>
                            <!-- measure 색일때 -->
                            <button class="ddp-btn-color-type{{checkMeasureSelectedColor()}} ddp-type"></button>
                            <!-- measure 색일때 -->
                          </div>
                          <!-- //colorby button -->

                          <div *ngIf="'NONE' === uiOption.layers[2].color.by.toString()" class="ddp-wrap-option-multy ddp-clear">
                            <div class="ddp-col-6">
                              <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                            </div>
                            <div class="ddp-col-6 ddp-txt-right">
                              <!-- selectbox -->
                              <div class="ddp-type-selectbox ddp-color-selectbox2">
                                <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                              [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                              </div>
                              <!-- //selectbox -->
                            </div>
                          </div>

                          <!-- popup -->
                          <div class="ddp-popup-side" *ngIf="colorListFlag">
                            <!-- top -->
                            <div class="ddp-pop-side-top">
                              {{'msg.page.ui.color.palette' | translate}}
                              <a href="javascript:" class="ddp-btn-close" (click)="colorListFlag=false"></a>
                            </div>
                            <!-- //top -->
                            <!-- contents -->
                            <div *ngIf="'MEASURE' !== uiOption.layers[2].color.by.toString()" class="ddp-pop-side-contents">
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of defaultColorList" (click)="changeColor(item)">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-series{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>
                            </div>
                            <!-- //contents -->
                            <!--uiOption.type.toString() == 'grid' ? gridMeasureColorList : measureColorList-->
                            <!-- contents -->
                            <div *ngIf="'MEASURE' === uiOption.layers[2].color.by.toString()"  class="ddp-pop-side-contents">
                              <span class="ddp-pop-sub-title">{{'msg.page.th.seq.display' | translate}}</span>
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of measureColorList; let num = index" (click)="changeColor(item, measureColorList[num])">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>

                              <span class="ddp-pop-sub-title">{{'msg.page.th.contrast.display' | translate}}</span>
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of measureReverseColorList; let num = index" (click)="changeColor(item, measureReverseColorList[num])">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>
                            </div>
                            <!-- //contents -->

                          </div>
                          <!-- //popup -->
                        </div>
                      </div>
                      </div>
                      <!-- color by measure part -->
                      <!-- 사용자 색상 프리셋 box down color by measure일때 -->
                      <div *ngIf="uiOption.layers[2].color?.by && 'MEASURE' == uiOption.layers[2].color?.by" class="ddp-wrap-divide">
                        <div class="ddp-wrap-option-slider">
                          <span class="ddp-label-slider">{{'msg.page.chart.color.series.color.setting' | translate}}</span>
                          <!-- Slide THREE -->
                          <div class="ddp-checkbox-slide ddp-checkbox-automatic2">
                            <input type="checkbox" [checked]="uiOption.layers[2].color['customMode']" (click)="changeColorRange()" name="check">
                            <label><span class="ddp-slide"></span></label>
                          </div>
                          <!-- //Slide THREE -->
                        </div>
                        <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-user-color">

                          <div class="ddp-list-part">
                            <!-- selectbox -->
                            <component-select
                              [array]="colorRangeTypeList"
                              [defaultIndex]="!uiOption.layers[2].color['customMode'] || 'SECTION' == uiOption.layers[2].color['customMode'] ? 0 : 1"
                              [viewKey]="'name'"
                              (onSelected)="selectColorRangeType($event)">
                            </component-select>
                            <!-- //selectbox -->
                          </div>
                          <div *ngFor="let item of rangesViewList; let index = index" class="ddp-wrap-usercolor">
                            <!-- blank -->
                            <div *ngIf="0 !== index && 'SECTION' == uiOption.layers[2].color['customMode']" (click)="addNewRange(index)" class="ddp-list-blank">
                              {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                            </div>
                            <!-- //blank -->
                            <!-- list usercolor -->
                            <div *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" class="ddp-list-usercolor">
                              <div class="ddp-box-color">
                                <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                              [showInput]="true" [showUserColor]="true" #colorPicker (selected)="colorPaletteSelected($event, item)"></color-picker>
                              </div>
                              <div class="ddp-data-range ddp-clear">
                                <div class="ddp-input-range">
                                  <input [ngStyle]="{'visibility' : null == item.fixMin ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.gt"
                                         (keyup.enter)="changeRangeMinInput(item, index)" (focus)="availableRange(item, index)">
                                  <!-- tooltip -->
                                  <div class="ddp-ui-tooltip-info">
                                    <em class="ddp-icon-view-down"></em>
                                    {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                  </div>
                                  <!-- //tooltip -->
                                </div>
                                <div class="ddp-bar ">
                                  ~
                                </div>
                                <div class="ddp-input-range">
                                  <input [ngStyle]="{'visibility' : null == item.fixMax ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.lte"
                                         (keyup.enter)="changeRangeMaxInput(item, index)" (focus)="availableRange(item, index)">
                                  <!-- tooltip -->
                                  <div class="ddp-ui-tooltip-info">
                                    <em class="ddp-icon-view-down"></em>
                                    {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                  </div>
                                  <!-- //tooltip -->
                                </div>
                              </div>

                              <em *ngIf="uiOption.layers[2].color['ranges'].length - 1 !== index && 0 !== index && uiOption.layers[2].color['ranges'].length > 3" (click)="removeColorRange(item, index)" class="ddp-icon-listdelete"></em>
                            </div>
                          </div>
                          <!-- //list usercolor -->

                          <!-- gradation -->
                          <div *ngIf="'GRADIENT' == uiOption.layers[2].color['customMode']" class="ddp-wrap-gradation2">

                            <div class="ddp-ui-gradation">
                              <gradation-generator (changeGradation)="changeGradations($event)"
                              (clickOutside)="hideGradationColor()"></gradation-generator>

                              <!-- user color -->
                              <div class="ddp-gradx-usercolor">
                                <!-- value num -->

                                <!-- //value num -->
                                <div *ngFor="let item of uiOption.layers[2].color['ranges']; let index = index" class="ddp-wrap-usercolor">
                                  <!-- blank -->
                                  <div *ngIf="separateValue > uiOption.layers[2].color['ranges']['length']" (click)="addGradientRange(index)" class="ddp-list-blank">
                                    {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                                  </div>
                                  <!-- //blank -->
                                  <!-- list usercolor -->
                                  <div class="ddp-list-usercolor">
                                    <div class="ddp-box-color" id="ddp-box-color-{{index}}">
                                      <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                    [showInput]="true" [showUserColor]="true" #colorPicker (selected)="gradationColorSelected($event, item)"
                                                    (showPicker)="showGradationColor(item, index)" (hidePicker)="hideGradationColor(index)"></color-picker>
                                    </div>
                                    <div class="ddp-data-range ddp-clear">{{item.value | number: '1.0-0'}}</div>
                                    <em *ngIf="uiOption.layers[2].color['ranges'].length > 2" (click)="deleteGradientRange(item.index)" class="ddp-icon-listdelete"></em>
                                  </div>
                                  <!-- //list usercolor -->
                                </div>
                              </div>
                              <!-- //user color -->
                            </div>
                          </div>
                        </div>

                          <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-data-sum">
                            {{'msg.page.chart.color.measure.new.range.min' | translate}} : {{minValue}} ~ {{'msg.page.chart.color.measure.new.range.max' | translate}} : {{maxValue}}
                          </div>
                          <a *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" (click)="equalColorRange()" href="javascript:" class="ddp-btn-set">
                            {{'msg.page.chart.color.measure.new.range.split.equal' | translate}}
                          </a>
                          <!--<a *ngIf="'GRADIENT' == uiOption.color['customMode']" (click)="equalColorGradation()" href="javascript:" class="ddp-btn-set">-->
                            <!--{{'msg.page.chart.color.measure.new.range.split.equal' | translate}}-->
                          <!--</a>-->
                      </div>
                      <!-- //color by measure part -->

                      <div class="ddp-divide2">
                          <div class="ddp-list-label">{{'msg.page.layer.map.color.transparency' | translate}}</div>
                          <!-- SELECTBOX -->
                          <div class="ddp-type-selectbox" (click)="transparencyFlag=!transparencyFlag;" (clickOutside)="transparencyFlag=false" [excludeBeforeClick]="true">
                              <span class="ddp-txt-selectbox">{{ uiOption.layers[2].color.transparency === 100 ? translateService.instant('msg.page.layer.map.color.transparency.none') : translateNumber('transparency', uiOption.layers[2].color.transparency) }}</span>
                              <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="transparencyFlag">
                                  <li (click)="changeTransparency(100)"><a href="#">{{'msg.page.layer.map.color.transparency.none' | translate}}</a></li>
                                  <li (click)="changeTransparency(80)"><a href="#">20%</a></li>
                                  <li (click)="changeTransparency(60)"><a href="#">40%</a></li>
                                  <li (click)="changeTransparency(40)"><a href="#">60%</a></li>
                                  <li (click)="changeTransparency(20)"><a href="#">80%</a></li>
                                  <li (click)="changeTransparency(0)"><a href="#">100%</a></li>
                              </ul>
                          </div>
                          <!-- //SELECTBOX -->
                      </div>
                  </div>
              </div>
              <!-- //divide -->
            </div>

            <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2 ">
                    <div class="ddp-list-label">{{'msg.page.layer.map.stroke' | translate}}</div>
                    <div class="ddp-list-sub2">
                        <div class="ddp-divide2">
                            <div class="ddp-list-label">{{'msg.page.layer.map.stroke.by' | translate}}</div>
                            <!-- SELECTBOX -->
                            <div class="ddp-type-selectbox" (click)="sizeTypeFlag=!sizeTypeFlag;" (clickOutside)="sizeTypeFlag=false" [excludeBeforeClick]="true">
                                <span class="ddp-txt-selectbox">{{ uiOption.layers[2].size.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].size.by }}</span>
                                <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="sizeTypeFlag">
                                    <li (click)="changeSizeType('NONE')"><a href="#">{{'msg.page.layer.map.stroke.none' | translate}}</a></li>
                                    <li (click)="changeSizeType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="#">{{'msg.page.layer.map.stroke.measure' | translate}}</a></li>
                                </ul>
                            </div>
                            <!-- //SELECTBOX -->

                            <!-- part -->
                            <div class="ddp-list-part ddp-divide" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].size.by.toString() === 'MEASURE'">
                              <!-- SELECTBOX -->
                              <component-select
                                [array]="uiOption.measureList[2]"
                                [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].size['column'])"
                                (onSelected)="changeSizeColumn($event)"
                              ></component-select>
                            </div>
                            <!-- //part -->

                            <!-- divide -->
                            <div class="ddp-divide2 ">
                                <div class="ddp-list-label">
                                  <!-- {{'msg.page.layer.map.name' | translate}} -->
                                  굵기 최대값(px)
                                </div>
                                <input type="text" class="ddp-input-typebasic" placeholder="" [(ngModel)]="uiOption.layers[2].size['max']">
                            </div>
                            <!-- //divide -->
                        </div>
                    </div>
                </div>
                <!-- //divide -->
            </div>

            <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2 ">

                    <div class="ddp-list-label">{{'msg.page.layer.map.line.type' | translate}}</div>
                    <!-- SELECTBOX -->
                    <div class="ddp-type-selectbox" (click)="lineDashTypeFlag=!lineDashTypeFlag;" (clickOutside)="lineDashTypeFlag=false" [excludeBeforeClick]="true">
                        <span class="ddp-txt-selectbox">{{ uiOption.layers[2].outline.lineDash === 'SOLID' ? translateService.instant('msg.page.layer.map.line.type.solid') : translateService.instant('msg.page.layer.map.line.type.dotted') }}</span>
                        <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="lineDashTypeFlag">
                            <li (click)="lineDashType('SOLID')"><a href="#">{{'msg.page.layer.map.line.type.solid' | translate}}</a></li>
                            <li (click)="lineDashType('DOT')"><a href="#">{{'msg.page.layer.map.line.type.dotted' | translate}}</a></li>
                        </ul>
                    </div>
                    <!-- //SELECTBOX -->

                </div>
            </div>
          </div>
          <!-- //레이어 유형 : 선 -->

          <!-- 레이어 유형 : 폴리곤 -->
          <div class="ddp-ui-layer-type" *ngIf="uiOption.layers[2].type === 'polygon'">
            <div class="ddp-wrap-divide">

              <!-- divide -->
              <div class="ddp-divide2 ">
                  <div class="ddp-list-label">{{'msg.page.layer.map.color' | translate}}</div>
                  <div class="ddp-list-sub2">
                      <div [ngClass]="{'ddp-wrap-disabled' : 'MEASURE' == uiOption.layers[2].color.by.toString() && uiOption.layers[2].color['customMode']}">
                        <div class="ddp-divide2">
                          <div class="ddp-list-label">{{'msg.page.layer.map.color.by' | translate}}</div>
                          <div class="ddp-type-selectbox"
                               (click)="colorTypeFlag=!colorTypeFlag;colorListFlag=false;" (clickOutside)="colorTypeFlag=false" [excludeBeforeClick]="true">
                            <span class="ddp-txt-selectbox">{{ capitalize(uiOption.layers[2].color.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].color.by) }}</span>
                            <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="colorTypeFlag">
                              <li (click)="changeColorType('NONE')"><a href="javascript:">{{'msg.space.ui.none' | translate}}</a></li>
                              <li (click)="changeColorType('DIMENSION')"><a href="javascript:">{{'msg.page.li.color.dimension' | translate}}</a></li>
                              <li (click)="changeColorType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="javascript:">{{'msg.page.li.color.measure' | translate}}</a></li>
                            </ul>
                          </div>
                        </div>
                        <div class="ddp-divide2" *ngIf="uiOption.layers[2].color.by.toString() === 'DIMENSION'">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.fieldList"
                            [defaultIndex]="uiOption.fieldList && uiOption.fieldList.indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                        <div class="ddp-divide2" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].color.by.toString() === 'MEASURE'">
                          <!-- SELECTBOX -->
                          <component-select
                            [array]="uiOption.measureList[2]"
                            [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].color['column'])"
                            (onSelected)="changeColorColumn($event)"
                          ></component-select>
                        </div>
                        <div class="ddp-divide2">
                        <div class="ddp-ui-colorby">

                          <!-- colorby button -->
                          <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' !== uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                            <em class="ddp-icon-colorby"></em>
                            <!-- series, dimension 색일때 -->
                            <button class="ddp-btn-color-series{{checkDefaultSelectedColor()}} ddp-type"></button>
                            <!-- //series, dimension 색일때 -->
                          </div>
                          <!-- //colorby button -->

                          <!-- colorby button -->
                          <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' === uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                            <em class="ddp-icon-colorby"></em>
                            <!-- measure 색일때 -->
                            <button class="ddp-btn-color-type{{checkMeasureSelectedColor()}} ddp-type"></button>
                            <!-- measure 색일때 -->
                          </div>
                          <!-- //colorby button -->

                          <div *ngIf="'NONE' === uiOption.layers[2].color.by.toString()" class="ddp-wrap-option-multy ddp-clear">
                            <div class="ddp-col-6">
                              <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                            </div>
                            <div class="ddp-col-6 ddp-txt-right">
                              <!-- selectbox -->
                              <div class="ddp-type-selectbox ddp-color-selectbox2">
                                <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                              [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                              </div>
                              <!-- //selectbox -->
                            </div>
                          </div>

                          <!-- popup -->
                          <div class="ddp-popup-side" *ngIf="colorListFlag">
                            <!-- top -->
                            <div class="ddp-pop-side-top">
                              {{'msg.page.ui.color.palette' | translate}}
                              <a href="javascript:" class="ddp-btn-close" (click)="colorListFlag=false"></a>
                            </div>
                            <!-- //top -->
                            <!-- contents -->
                            <div *ngIf="'MEASURE' !== uiOption.layers[2].color.by.toString()" class="ddp-pop-side-contents">
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of defaultColorList" (click)="changeColor(item)">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-series{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>
                            </div>
                            <!-- //contents -->
                            <!--uiOption.type.toString() == 'grid' ? gridMeasureColorList : measureColorList-->
                            <!-- contents -->
                            <div *ngIf="'MEASURE' === uiOption.layers[2].color.by.toString()"  class="ddp-pop-side-contents">
                              <span class="ddp-pop-sub-title">{{'msg.page.th.seq.display' | translate}}</span>
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of measureColorList; let num = index" (click)="changeColor(item, measureColorList[num])">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>

                              <span class="ddp-pop-sub-title">{{'msg.page.th.contrast.display' | translate}}</span>
                              <ul class="ddp-list-series">
                                <li *ngFor="let item of measureReverseColorList; let num = index" (click)="changeColor(item, measureReverseColorList[num])">
                                  <!-- 선택시 ddp-selected 추가 -->
                                  <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                </li>
                              </ul>
                            </div>
                            <!-- //contents -->

                          </div>
                          <!-- //popup -->
                        </div>
                      </div>
                      </div>
                      <!-- color by measure part -->
                      <!-- 사용자 색상 프리셋 box down color by measure일때 -->
                      <div *ngIf="uiOption.layers[2].color?.by && 'MEASURE' == uiOption.layers[2].color?.by" class="ddp-wrap-divide">
                        <div class="ddp-wrap-option-slider">
                          <span class="ddp-label-slider">{{'msg.page.chart.color.series.color.setting' | translate}}</span>
                          <!-- Slide THREE -->
                          <div class="ddp-checkbox-slide ddp-checkbox-automatic2">
                            <input type="checkbox" [checked]="uiOption.layers[2].color['customMode']" (click)="changeColorRange()" name="check">
                            <label><span class="ddp-slide"></span></label>
                          </div>
                          <!-- //Slide THREE -->
                        </div>
                        <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-user-color">

                          <div class="ddp-list-part">
                            <!-- selectbox -->
                            <component-select
                              [array]="colorRangeTypeList"
                              [defaultIndex]="!uiOption.layers[2].color['customMode'] || 'SECTION' == uiOption.layers[2].color['customMode'] ? 0 : 1"
                              [viewKey]="'name'"
                              (onSelected)="selectColorRangeType($event)">
                            </component-select>
                            <!-- //selectbox -->
                          </div>
                          <div *ngFor="let item of rangesViewList; let index = index" class="ddp-wrap-usercolor">
                            <!-- blank -->
                            <div *ngIf="0 !== index && 'SECTION' == uiOption.layers[2].color['customMode']" (click)="addNewRange(index)" class="ddp-list-blank">
                              {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                            </div>
                            <!-- //blank -->
                            <!-- list usercolor -->
                            <div *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" class="ddp-list-usercolor">
                              <div class="ddp-box-color">
                                <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                              [showInput]="true" [showUserColor]="true" #colorPicker (selected)="colorPaletteSelected($event, item)"></color-picker>
                              </div>
                              <div class="ddp-data-range ddp-clear">
                                <div class="ddp-input-range">
                                  <input [ngStyle]="{'visibility' : null == item.fixMin ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.gt"
                                         (keyup.enter)="changeRangeMinInput(item, index)" (focus)="availableRange(item, index)">
                                  <!-- tooltip -->
                                  <div class="ddp-ui-tooltip-info">
                                    <em class="ddp-icon-view-down"></em>
                                    {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                  </div>
                                  <!-- //tooltip -->
                                </div>
                                <div class="ddp-bar ">
                                  ~
                                </div>
                                <div class="ddp-input-range">
                                  <input [ngStyle]="{'visibility' : null == item.fixMax ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.lte"
                                         (keyup.enter)="changeRangeMaxInput(item, index)" (focus)="availableRange(item, index)">
                                  <!-- tooltip -->
                                  <div class="ddp-ui-tooltip-info">
                                    <em class="ddp-icon-view-down"></em>
                                    {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                  </div>
                                  <!-- //tooltip -->
                                </div>
                              </div>

                              <em *ngIf="uiOption.layers[2].color['ranges'].length - 1 !== index && 0 !== index && uiOption.layers[2].color['ranges'].length > 3" (click)="removeColorRange(item, index)" class="ddp-icon-listdelete"></em>
                            </div>
                          </div>
                          <!-- //list usercolor -->

                          <!-- gradation -->
                          <div *ngIf="'GRADIENT' == uiOption.layers[2].color['customMode']" class="ddp-wrap-gradation2">

                            <div class="ddp-ui-gradation">
                              <gradation-generator (changeGradation)="changeGradations($event)"
                              (clickOutside)="hideGradationColor()"></gradation-generator>

                              <!-- user color -->
                              <div class="ddp-gradx-usercolor">
                                <!-- value num -->

                                <!-- //value num -->
                                <div *ngFor="let item of uiOption.layers[2].color['ranges']; let index = index" class="ddp-wrap-usercolor">
                                  <!-- blank -->
                                  <div *ngIf="separateValue > uiOption.layers[2].color['ranges']['length']" (click)="addGradientRange(index)" class="ddp-list-blank">
                                    {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                                  </div>
                                  <!-- //blank -->
                                  <!-- list usercolor -->
                                  <div class="ddp-list-usercolor">
                                    <div class="ddp-box-color" id="ddp-box-color-{{index}}">
                                      <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                    [showInput]="true" [showUserColor]="true" #colorPicker (selected)="gradationColorSelected($event, item)"
                                                    (showPicker)="showGradationColor(item, index)" (hidePicker)="hideGradationColor(index)"></color-picker>
                                    </div>
                                    <div class="ddp-data-range ddp-clear">{{item.value | number: '1.0-0'}}</div>
                                    <em *ngIf="uiOption.layers[2].color['ranges'].length > 2" (click)="deleteGradientRange(item.index)" class="ddp-icon-listdelete"></em>
                                  </div>
                                  <!-- //list usercolor -->
                                </div>
                              </div>
                              <!-- //user color -->
                            </div>
                          </div>
                        </div>

                          <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-data-sum">
                            {{'msg.page.chart.color.measure.new.range.min' | translate}} : {{minValue}} ~ {{'msg.page.chart.color.measure.new.range.max' | translate}} : {{maxValue}}
                          </div>
                          <a *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" (click)="equalColorRange()" href="javascript:" class="ddp-btn-set">
                            {{'msg.page.chart.color.measure.new.range.split.equal' | translate}}
                          </a>
                          <!--<a *ngIf="'GRADIENT' == uiOption.color['customMode']" (click)="equalColorGradation()" href="javascript:" class="ddp-btn-set">-->
                            <!--{{'msg.page.chart.color.measure.new.range.split.equal' | translate}}-->
                          <!--</a>-->
                      </div>
                      <!-- //color by measure part -->

                      <div class="ddp-divide2">
                          <div class="ddp-list-label">{{'msg.page.layer.map.color.transparency' | translate}}</div>
                          <!-- SELECTBOX -->
                          <div class="ddp-type-selectbox" (click)="transparencyFlag=!transparencyFlag;" (clickOutside)="transparencyFlag=false" [excludeBeforeClick]="true">
                              <span class="ddp-txt-selectbox">{{ uiOption.layers[2].color.transparency === 100 ? translateService.instant('msg.page.layer.map.color.transparency.none') : translateNumber('transparency', uiOption.layers[2].color.transparency) }}</span>
                              <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="transparencyFlag">
                                  <li (click)="changeTransparency(100)"><a href="#">{{'msg.page.layer.map.color.transparency.none' | translate}}</a></li>
                                  <li (click)="changeTransparency(80)"><a href="#">20%</a></li>
                                  <li (click)="changeTransparency(60)"><a href="#">40%</a></li>
                                  <li (click)="changeTransparency(40)"><a href="#">60%</a></li>
                                  <li (click)="changeTransparency(20)"><a href="#">80%</a></li>
                                  <li (click)="changeTransparency(0)"><a href="#">100%</a></li>
                              </ul>
                          </div>
                          <!-- //SELECTBOX -->
                      </div>
                  </div>
              </div>
              <!-- //divide -->
            </div>

            <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2 ">
                    <div class="ddp-wrap-option-slider">
                        <span class="ddp-label-slider">{{'msg.page.layer.map.outline' | translate}}</span>
                        <!-- Slide THREE -->
                        <div class="ddp-checkbox-slide ddp-checkbox-automatic2" >
                            <input type="checkbox" name="check" [checked]="uiOption.layers[2].outline.thickness !== 'NONE'" (click)="changeOutlineFlag()">
                            <label for="check2"><span class="ddp-slide"></span></label>
                        </div>
                        <!-- //Slide THREE -->

                    </div>

                    <div class="ddp-wrap-option-multy ddp-clear" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                        <div class="ddp-col-7">
                            <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                        </div>
                        <div class="ddp-col-5 ddp-txt-right" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                          <!-- selectbox -->
                          <div class="ddp-type-selectbox ddp-color-selectbox2">
                            <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.outline?.color ? uiOption?.layers[2]?.outline?.color :'#FFF'" [showInitial]="true"
                                          [showInput]="true" [showUserColor]="true" (selected)="selectOutlineColor($event);"></color-picker>
                          </div>
                          <!-- //selectbox -->
                        </div>
                    </div>

                    <!-- multy -->
                    <div class="ddp-wrap-option-multy ddp-clear" *ngIf="uiOption.layers[2].outline.thickness !== 'NONE'">
                        <div class="ddp-col-6">
                            <span class="ddp-label-txt">{{'msg.page.layer.map.stroke' | translate}}</span>
                        </div>
                        <div class="ddp-col-6 ddp-txt-right">
                            <ul class="ddp-list-express ddp-tab3 ddp-type">
                                <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'THIN'}" (click)="outlineType('THIN');"><em class="ddp-line-bold1"></em></li>
                                <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'NORMAL'}" (click)="outlineType('NORMAL');"><em class="ddp-line-bold2"></em></li>
                                <li [ngClass]="{'ddp-selected': uiOption.layers[2].outline.thickness === 'THICK'}" (click)="outlineType('THICK');"><em class="ddp-line-bold3"></em></li>
                            </ul>
                        </div>
                    </div>
                    <!-- //multy -->
                </div>
            </div>

          </div>
          <!-- //레이어 유형 : 폴리곤 -->

          <!-- 레이어 유형 : 히트맵 -->
          <div class="ddp-ui-layer-type" *ngIf="uiOption.layers[2].type === 'heatmap'">
            <div class="ddp-wrap-divide">
              <!-- divide -->
              <div class="ddp-divide2 ">
                  <div class="ddp-list-label">{{'msg.page.layer.map.color' | translate}}</div>
                  <div class="ddp-list-sub2">
                    <div [ngClass]="{'ddp-wrap-disabled' : 'MEASURE' == uiOption.layers[2].color.by.toString() && uiOption.layers[2].color['customMode']}">
                      <div class="ddp-divide2">
                        <div class="ddp-list-label">{{'msg.page.layer.map.color.by' | translate}}</div>
                        <div class="ddp-type-selectbox"
                             (click)="colorTypeFlag=!colorTypeFlag;colorListFlag=false;" (clickOutside)="colorTypeFlag=false" [excludeBeforeClick]="true">
                          <span class="ddp-txt-selectbox">{{ capitalize(uiOption.layers[2].color.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].color.by) }}</span>
                          <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="colorTypeFlag">
                            <li (click)="changeColorType('NONE')"><a href="javascript:">{{'msg.space.ui.none' | translate}}</a></li>
                            <li (click)="changeColorType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="javascript:">{{'msg.page.li.color.measure' | translate}}</a></li>
                          </ul>
                        </div>
                      </div>
                      <div class="ddp-divide2" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].color.by.toString() === 'MEASURE'">
                        <!-- SELECTBOX -->
                        <component-select
                          [array]="uiOption.measureList[2]"
                          [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].color['column'])"
                          (onSelected)="changeColorColumn($event)"
                        ></component-select>
                      </div>
                      <div class="ddp-divide2">
                      <div class="ddp-ui-colorby">

                        <!-- colorby button -->
                        <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' !== uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                          <em class="ddp-icon-colorby"></em>
                          <!-- series, dimension 색일때 -->
                          <button class="ddp-btn-color-series{{checkDefaultSelectedColor()}} ddp-type"></button>
                          <!-- //series, dimension 색일때 -->
                        </div>
                        <!-- //colorby button -->

                        <!-- colorby button -->
                        <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' === uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                          <em class="ddp-icon-colorby"></em>
                          <!-- measure 색일때 -->
                          <button class="ddp-btn-color-type{{checkMeasureSelectedColor()}} ddp-type"></button>
                          <!-- measure 색일때 -->
                        </div>
                        <!-- //colorby button -->

                        <div *ngIf="'NONE' === uiOption.layers[2].color.by.toString()" class="ddp-wrap-option-multy ddp-clear">
                          <div class="ddp-col-6">
                            <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                          </div>
                          <div class="ddp-col-6 ddp-txt-right">
                            <!-- selectbox -->
                            <div class="ddp-type-selectbox ddp-color-selectbox2">
                              <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                            [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                            </div>
                            <!-- //selectbox -->
                          </div>
                        </div>

                        <!-- popup -->
                        <div class="ddp-popup-side" *ngIf="colorListFlag">
                          <!-- top -->
                          <div class="ddp-pop-side-top">
                            {{'msg.page.ui.color.palette' | translate}}
                            <a href="javascript:" class="ddp-btn-close" (click)="colorListFlag=false"></a>
                          </div>
                          <!-- //top -->
                          <!-- contents -->
                          <div *ngIf="'MEASURE' !== uiOption.layers[2].color.by.toString()" class="ddp-pop-side-contents">
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of defaultColorList" (click)="changeColor(item)">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-series{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>
                          </div>
                          <!-- //contents -->
                          <!--uiOption.type.toString() == 'grid' ? gridMeasureColorList : measureColorList-->
                          <!-- contents -->
                          <div *ngIf="'MEASURE' === uiOption.layers[2].color.by.toString()"  class="ddp-pop-side-contents">
                            <span class="ddp-pop-sub-title">{{'msg.page.th.seq.display' | translate}}</span>
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of measureColorList; let num = index" (click)="changeColor(item, measureColorList[num])">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>

                            <span class="ddp-pop-sub-title">{{'msg.page.th.contrast.display' | translate}}</span>
                            <ul class="ddp-list-series">
                              <li *ngFor="let item of measureReverseColorList; let num = index" (click)="changeColor(item, measureReverseColorList[num])">
                                <!-- 선택시 ddp-selected 추가 -->
                                <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                              </li>
                            </ul>
                          </div>
                          <!-- //contents -->

                        </div>
                        <!-- //popup -->
                      </div>
                    </div>
                    </div>

                    <!-- color by measure part -->
                    <!-- 사용자 색상 프리셋 box down color by measure일때 -->
                    <div *ngIf="uiOption.layers[2].color?.by && 'MEASURE' == uiOption.layers[2].color?.by" class="ddp-wrap-divide">
                      <div class="ddp-wrap-option-slider">
                        <span class="ddp-label-slider">{{'msg.page.chart.color.series.color.setting' | translate}}</span>
                        <!-- Slide THREE -->
                        <div class="ddp-checkbox-slide ddp-checkbox-automatic2">
                          <input type="checkbox" [checked]="uiOption.layers[2].color['customMode']" (click)="changeColorRange()" name="check">
                          <label><span class="ddp-slide"></span></label>
                        </div>
                        <!-- //Slide THREE -->
                      </div>
                      <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-user-color">

                        <div class="ddp-list-part">
                          <!-- selectbox -->
                          <component-select
                            [array]="colorRangeTypeList"
                            [defaultIndex]="!uiOption.layers[2].color['customMode'] || 'SECTION' == uiOption.layers[2].color['customMode'] ? 0 : 1"
                            [viewKey]="'name'"
                            (onSelected)="selectColorRangeType($event)">
                          </component-select>
                          <!-- //selectbox -->
                        </div>
                        <div *ngFor="let item of rangesViewList; let index = index" class="ddp-wrap-usercolor">
                          <!-- blank -->
                          <div *ngIf="0 !== index && 'SECTION' == uiOption.layers[2].color['customMode']" (click)="addNewRange(index)" class="ddp-list-blank">
                            {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                          </div>
                          <!-- //blank -->
                          <!-- list usercolor -->
                          <div *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" class="ddp-list-usercolor">
                            <div class="ddp-box-color">
                              <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                            [showInput]="true" [showUserColor]="true" #colorPicker (selected)="colorPaletteSelected($event, item)"></color-picker>
                            </div>
                            <div class="ddp-data-range ddp-clear">
                              <div class="ddp-input-range">
                                <input [ngStyle]="{'visibility' : null == item.fixMin ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.gt"
                                       (keyup.enter)="changeRangeMinInput(item, index)" (focus)="availableRange(item, index)">
                                <!-- tooltip -->
                                <div class="ddp-ui-tooltip-info">
                                  <em class="ddp-icon-view-down"></em>
                                  {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                </div>
                                <!-- //tooltip -->
                              </div>
                              <div class="ddp-bar ">
                                ~
                              </div>
                              <div class="ddp-input-range">
                                <input [ngStyle]="{'visibility' : null == item.fixMax ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.lte"
                                       (keyup.enter)="changeRangeMaxInput(item, index)" (focus)="availableRange(item, index)">
                                <!-- tooltip -->
                                <div class="ddp-ui-tooltip-info">
                                  <em class="ddp-icon-view-down"></em>
                                  {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                </div>
                                <!-- //tooltip -->
                              </div>
                            </div>

                            <em *ngIf="uiOption.layers[2].color['ranges'].length - 1 !== index && 0 !== index && uiOption.layers[2].color['ranges'].length > 3" (click)="removeColorRange(item, index)" class="ddp-icon-listdelete"></em>
                          </div>
                        </div>
                        <!-- //list usercolor -->

                        <!-- gradation -->
                        <div *ngIf="'GRADIENT' == uiOption.layers[2].color['customMode']" class="ddp-wrap-gradation2">

                          <div class="ddp-ui-gradation">
                            <gradation-generator (changeGradation)="changeGradations($event)"
                            (clickOutside)="hideGradationColor()"></gradation-generator>

                            <!-- user color -->
                            <div class="ddp-gradx-usercolor">
                              <!-- value num -->

                              <!-- //value num -->
                              <div *ngFor="let item of uiOption.layers[2].color['ranges']; let index = index" class="ddp-wrap-usercolor">
                                <!-- blank -->
                                <div *ngIf="separateValue > uiOption.layers[2].color['ranges']['length']" (click)="addGradientRange(index)" class="ddp-list-blank">
                                  {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                                </div>
                                <!-- //blank -->
                                <!-- list usercolor -->
                                <div class="ddp-list-usercolor">
                                  <div class="ddp-box-color" id="ddp-box-color-{{index}}">
                                    <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                  [showInput]="true" [showUserColor]="true" #colorPicker (selected)="gradationColorSelected($event, item)"
                                                  (showPicker)="showGradationColor(item, index)" (hidePicker)="hideGradationColor(index)"></color-picker>
                                  </div>
                                  <div class="ddp-data-range ddp-clear">{{item.value | number: '1.0-0'}}</div>
                                  <em *ngIf="uiOption.layers[2].color['ranges'].length > 2" (click)="deleteGradientRange(item.index)" class="ddp-icon-listdelete"></em>
                                </div>
                                <!-- //list usercolor -->
                              </div>
                            </div>
                            <!-- //user color -->
                          </div>
                        </div>
                      </div>

                        <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-data-sum">
                          {{'msg.page.chart.color.measure.new.range.min' | translate}} : {{minValue}} ~ {{'msg.page.chart.color.measure.new.range.max' | translate}} : {{maxValue}}
                        </div>
                        <a *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" (click)="equalColorRange()" href="javascript:" class="ddp-btn-set">
                          {{'msg.page.chart.color.measure.new.range.split.equal' | translate}}
                        </a>
                        <!--<a *ngIf="'GRADIENT' == uiOption.color['customMode']" (click)="equalColorGradation()" href="javascript:" class="ddp-btn-set">-->
                          <!--{{'msg.page.chart.color.measure.new.range.split.equal' | translate}}-->
                        <!--</a>-->
                    </div>
                    <!-- //color by measure part -->
                    <div class="ddp-divide2">
                        <div class="ddp-list-label">{{'msg.page.layer.map.color.transparency' | translate}}</div>
                        <!-- SELECTBOX -->
                        <div class="ddp-type-selectbox" (click)="transparencyFlag=!transparencyFlag;" (clickOutside)="transparencyFlag=false" [excludeBeforeClick]="true">
                            <span class="ddp-txt-selectbox">{{ uiOption.layers[2].color.transparency === 100 ? translateService.instant('msg.page.layer.map.color.transparency.none') : translateNumber('transparency', uiOption.layers[2].color.transparency) }}</span>
                            <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="transparencyFlag">
                                <li (click)="changeTransparency(100)"><a href="#">{{'msg.page.layer.map.color.transparency.none' | translate}}</a></li>
                                <li (click)="changeTransparency(80)"><a href="#">20%</a></li>
                                <li (click)="changeTransparency(60)"><a href="#">40%</a></li>
                                <li (click)="changeTransparency(40)"><a href="#">60%</a></li>
                                <li (click)="changeTransparency(20)"><a href="#">80%</a></li>
                                <li (click)="changeTransparency(0)"><a href="#">100%</a></li>
                            </ul>
                        </div>
                        <!-- //SELECTBOX -->
                    </div>
                  </div>
              </div>
              <!-- //divide -->
            </div>
            <div class="ddp-wrap-divide">
                <!-- divide -->
                <div class="ddp-divide2">
                    <div class="ddp-list-label">{{'msg.page.layer.map.blur' | translate}}</div>
                    <!-- SELECTBOX -->
                    <div class="ddp-type-selectbox" (click)="blurFlag=!blurFlag;" (clickOutside)="blurFlag=false" [excludeBeforeClick]="true">
                        <span class="ddp-txt-selectbox">{{ translateNumber('heatmapBlur', uiOption.layers[2].color.blur) }}</span>
                        <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="blurFlag">
                            <li (click)="changeBlur(30)"><a href="#">100%</a></li>
                            <li (click)="changeBlur(25)"><a href="#">80%</a></li>
                            <li (click)="changeBlur(20)"><a href="#">60%</a></li>
                            <li (click)="changeBlur(15)"><a href="#">40%</a></li>
                            <li (click)="changeBlur(10)"><a href="#">20%</a></li>
                        </ul>
                    </div>
                    <!-- //SELECTBOX -->
                </div>
                <!-- //divide -->
                <!-- divide -->
                <div class="ddp-divide2">
                    <div class="ddp-list-label">{{'msg.page.layer.map.radius' | translate}}</div>
                    <!-- SELECTBOX -->
                    <div class="ddp-type-selectbox" (click)="radiusFlag=!radiusFlag;" (clickOutside)="radiusFlag=false" [excludeBeforeClick]="true">
                        <span class="ddp-txt-selectbox">{{ translateNumber('heatmapRadius', uiOption.layers[2].color.radius) }}</span>
                        <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="radiusFlag">
                            <li (click)="changeRadius(30)"><a href="#">100%</a></li>
                            <li (click)="changeRadius(25)"><a href="#">80%</a></li>
                            <li (click)="changeRadius(20)"><a href="#">60%</a></li>
                            <li (click)="changeRadius(15)"><a href="#">40%</a></li>
                            <li (click)="changeRadius(10)"><a href="#">20%</a></li>
                        </ul>
                    </div>
                    <!-- //SELECTBOX -->
                </div>
                <!-- //divide -->
            </div>
          </div>
          <!-- 레이어 유형 : //히트맵 -->

          <!-- 레이어 유형 : 타일 -->
          <div class="ddp-ui-layer-type"  *ngIf="uiOption.layers[2].type === 'tile'">
              <div class="ddp-wrap-divide">
                  <!-- divide -->
                  <!-- <div class="ddp-divide2">
                      <div class="ddp-list-label">타일 유형</div>
                      <ul class="ddp-list-express  ddp-type2">
                          <li [ngClass]="{'ddp-selected': uiOption.layers[2].tile === 'HEXAGON'}" (click)="tileType('HEXAGON');">
                              <em class="ddp-icon-hexagon"></em> 육각형
                          </li>
                          <li [ngClass]="{'ddp-selected': uiOption.layers[2].tile === 'GRID'}" (click)="tileType('GRID');">
                              <em class="ddp-icon-square"></em> 사각형
                          </li>
                      </ul>

                  </div> -->
                  <!-- //divide -->
                  <!-- divide -->
                  <div class="ddp-divide2 ">
                      <div class="ddp-list-label">{{'msg.page.layer.map.color' | translate}}</div>
                      <div class="ddp-list-sub2">
                        <div [ngClass]="{'ddp-wrap-disabled' : 'MEASURE' == uiOption.layers[2].color.by.toString() && uiOption.layers[2].color['customMode']}">
                          <div class="ddp-divide2">
                            <div class="ddp-list-label">{{'msg.page.layer.map.color.by' | translate}}</div>
                            <div class="ddp-type-selectbox"
                                 (click)="colorTypeFlag=!colorTypeFlag;colorListFlag=false;" (clickOutside)="colorTypeFlag=false" [excludeBeforeClick]="true">
                              <span class="ddp-txt-selectbox">{{ capitalize(uiOption.layers[2].color.by.toString() === 'NONE' ? 'none' : uiOption.layers[2].color.by) }}</span>
                              <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="colorTypeFlag">
                                <li (click)="changeColorType('NONE')"><a href="javascript:">{{'msg.space.ui.none' | translate}}</a></li>
                                <li (click)="changeColorType('DIMENSION')"><a href="javascript:">{{'msg.page.li.color.dimension' | translate}}</a></li>
                                <li (click)="changeColorType('MEASURE')" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.measureList[2].length > 0"><a href="javascript:">{{'msg.page.li.color.measure' | translate}}</a></li>
                              </ul>
                            </div>
                          </div>
                          <div class="ddp-divide2" *ngIf="uiOption.layers[2].color.by.toString() === 'DIMENSION'">
                            <!-- SELECTBOX -->
                            <component-select
                              [array]="uiOption.fieldList"
                              [defaultIndex]="uiOption.fieldList && uiOption.fieldList.indexOf(uiOption.layers[2].color['column'])"
                              (onSelected)="changeColorColumn($event)"
                            ></component-select>
                          </div>
                          <div class="ddp-divide2" *ngIf="uiOption.measureList && uiOption.measureList[2] && uiOption.layers[2].color.by.toString() === 'MEASURE'">
                            <!-- SELECTBOX -->
                            <component-select
                              [array]="uiOption.measureList[2]"
                              [defaultIndex]="uiOption.measureList[2] && uiOption.measureList[2].indexOf(uiOption.layers[2].color['column'])"
                              (onSelected)="changeColorColumn($event)"
                            ></component-select>
                          </div>
                          <div class="ddp-divide2">
                            <div class="ddp-ui-colorby">

                              <!-- colorby button -->
                              <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' !== uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                                <em class="ddp-icon-colorby"></em>
                                <!-- series, dimension 색일때 -->
                                <button class="ddp-btn-color-series{{checkDefaultSelectedColor()}} ddp-type"></button>
                                <!-- //series, dimension 색일때 -->
                              </div>
                              <!-- //colorby button -->

                              <!-- colorby button -->
                              <div *ngIf="'NONE' !== uiOption.layers[2].color.by.toString() && 'MEASURE' === uiOption.layers[2].color.by.toString()" (click)="toggleColorList()" (clickOutside)="colorListFlag=false" class="ddp-wrap-colorby-button">
                                <em class="ddp-icon-colorby"></em>
                                <!-- measure 색일때 -->
                                <button class="ddp-btn-color-type{{checkMeasureSelectedColor()}} ddp-type"></button>
                                <!-- measure 색일때 -->
                              </div>
                              <!-- //colorby button -->

                              <div *ngIf="'NONE' === uiOption.layers[2].color.by.toString()" class="ddp-wrap-option-multy ddp-clear">
                                <div class="ddp-col-6">
                                  <span class="ddp-label-txt">{{'msg.page.layer.map.color' | translate}}</span>
                                </div>
                                <div class="ddp-col-6 ddp-txt-right">
                                  <!-- selectbox -->
                                  <div class="ddp-type-selectbox ddp-color-selectbox2">
                                    <color-picker [showAlpha]="true" [color]="uiOption?.layers[2]?.color?.schema ? uiOption?.layers[2]?.color?.schema :'#FFF'" [showInitial]="true"
                                                  [showInput]="true" [showUserColor]="true" (selected)="selectSingleColor($event);"></color-picker>
                                  </div>
                                  <!-- //selectbox -->
                                </div>
                              </div>

                              <!-- popup -->
                              <div class="ddp-popup-side" *ngIf="colorListFlag">
                                <!-- top -->
                                <div class="ddp-pop-side-top">
                                  {{'msg.page.ui.color.palette' | translate}}
                                  <a href="javascript:" class="ddp-btn-close" (click)="colorListFlag=false"></a>
                                </div>
                                <!-- //top -->
                                <!-- contents -->
                                <div *ngIf="'MEASURE' !== uiOption.layers[2].color.by.toString()" class="ddp-pop-side-contents">
                                  <ul class="ddp-list-series">
                                    <li *ngFor="let item of defaultColorList" (click)="changeColor(item)">
                                      <!-- 선택시 ddp-selected 추가 -->
                                      <button class="ddp-btn-color-series{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                    </li>
                                  </ul>
                                </div>
                                <!-- //contents -->
                                <!--uiOption.type.toString() == 'grid' ? gridMeasureColorList : measureColorList-->
                                <!-- contents -->
                                <div *ngIf="'MEASURE' === uiOption.layers[2].color.by.toString()"  class="ddp-pop-side-contents">
                                  <span class="ddp-pop-sub-title">{{'msg.page.th.seq.display' | translate}}</span>
                                  <ul class="ddp-list-series">
                                    <li *ngFor="let item of measureColorList; let num = index" (click)="changeColor(item, measureColorList[num])">
                                      <!-- 선택시 ddp-selected 추가 -->
                                      <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                    </li>
                                  </ul>

                                  <span class="ddp-pop-sub-title">{{'msg.page.th.contrast.display' | translate}}</span>
                                  <ul class="ddp-list-series">
                                    <li *ngFor="let item of measureReverseColorList; let num = index" (click)="changeColor(item, measureReverseColorList[num])">
                                      <!-- 선택시 ddp-selected 추가 -->
                                      <button class="ddp-btn-color-type{{item['index']}} ddp-type" [ngClass]="{'ddp-selected': item['colorNum'] == uiOption.layers[2].color['schema']}"></button>
                                    </li>
                                  </ul>
                                </div>
                                <!-- //contents -->

                              </div>
                              <!-- //popup -->
                            </div>
                          </div>
                        </div>
                        <!-- color by measure part -->
                        <!-- 사용자 색상 프리셋 box down color by measure일때 -->
                        <div *ngIf="uiOption.layers[2].color?.by && 'MEASURE' == uiOption.layers[2].color?.by" class="ddp-wrap-divide">
                          <div class="ddp-wrap-option-slider">
                            <span class="ddp-label-slider">{{'msg.page.chart.color.series.color.setting' | translate}}</span>
                            <!-- Slide THREE -->
                            <div class="ddp-checkbox-slide ddp-checkbox-automatic2">
                              <input type="checkbox" [checked]="uiOption.layers[2].color['customMode']" (click)="changeColorRange()" name="check">
                              <label><span class="ddp-slide"></span></label>
                            </div>
                            <!-- //Slide THREE -->
                          </div>
                          <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-user-color">

                            <div class="ddp-list-part">
                              <!-- selectbox -->
                              <component-select
                                [array]="colorRangeTypeList"
                                [defaultIndex]="!uiOption.layers[2].color['customMode'] || 'SECTION' == uiOption.layers[2].color['customMode'] ? 0 : 1"
                                [viewKey]="'name'"
                                (onSelected)="selectColorRangeType($event)">
                              </component-select>
                              <!-- //selectbox -->
                            </div>
                            <div *ngFor="let item of rangesViewList; let index = index" class="ddp-wrap-usercolor">
                              <!-- blank -->
                              <div *ngIf="0 !== index && 'SECTION' == uiOption.layers[2].color['customMode']" (click)="addNewRange(index)" class="ddp-list-blank">
                                {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                              </div>
                              <!-- //blank -->
                              <!-- list usercolor -->
                              <div *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" class="ddp-list-usercolor">
                                <div class="ddp-box-color">
                                  <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                [showInput]="true" [showUserColor]="true" #colorPicker (selected)="colorPaletteSelected($event, item)"></color-picker>
                                </div>
                                <div class="ddp-data-range ddp-clear">
                                  <div class="ddp-input-range">
                                    <input [ngStyle]="{'visibility' : null == item.fixMin ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.gt"
                                           (keyup.enter)="changeRangeMinInput(item, index)" (focus)="availableRange(item, index)">
                                    <!-- tooltip -->
                                    <div class="ddp-ui-tooltip-info">
                                      <em class="ddp-icon-view-down"></em>
                                      {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                    </div>
                                    <!-- //tooltip -->
                                  </div>
                                  <div class="ddp-bar ">
                                    ~
                                  </div>
                                  <div class="ddp-input-range">
                                    <input [ngStyle]="{'visibility' : null == item.fixMax ? 'hidden' : 'visible'}" type="text" input-mask="text" class="ddp-input-typebasic ddp-txt-right" [(ngModel)]="item.lte"
                                           (keyup.enter)="changeRangeMaxInput(item, index)" (focus)="availableRange(item, index)">
                                    <!-- tooltip -->
                                    <div class="ddp-ui-tooltip-info">
                                      <em class="ddp-icon-view-down"></em>
                                      {{'msg.page.chart.color.measure.new.range.add.available.range' | translate}} {{availableRangeValue}}
                                    </div>
                                    <!-- //tooltip -->
                                  </div>
                                </div>

                                <em *ngIf="uiOption.layers[2].color['ranges'].length - 1 !== index && 0 !== index && uiOption.layers[2].color['ranges'].length > 3" (click)="removeColorRange(item, index)" class="ddp-icon-listdelete"></em>
                              </div>
                            </div>
                            <!-- //list usercolor -->

                            <!-- gradation -->
                            <div *ngIf="'GRADIENT' == uiOption.layers[2].color['customMode']" class="ddp-wrap-gradation2">

                              <div class="ddp-ui-gradation">
                                <gradation-generator (changeGradation)="changeGradations($event)"
                                (clickOutside)="hideGradationColor()"></gradation-generator>

                                <!-- user color -->
                                <div class="ddp-gradx-usercolor">
                                  <!-- value num -->

                                  <!-- //value num -->
                                  <div *ngFor="let item of uiOption.layers[2].color['ranges']; let index = index" class="ddp-wrap-usercolor">
                                    <!-- blank -->
                                    <div *ngIf="separateValue > uiOption.layers[2].color['ranges']['length']" (click)="addGradientRange(index)" class="ddp-list-blank">
                                      {{'msg.page.chart.color.measure.new.range.add.description' | translate}}
                                    </div>
                                    <!-- //blank -->
                                    <!-- list usercolor -->
                                    <div class="ddp-list-usercolor">
                                      <div class="ddp-box-color" id="ddp-box-color-{{index}}">
                                        <color-picker [showAlpha]="true" [color]="item.color" [showInitial]="true"
                                                      [showInput]="true" [showUserColor]="true" #colorPicker (selected)="gradationColorSelected($event, item)"
                                                      (showPicker)="showGradationColor(item, index)" (hidePicker)="hideGradationColor(index)"></color-picker>
                                      </div>
                                      <div class="ddp-data-range ddp-clear">{{item.value | number: '1.0-0'}}</div>
                                      <em *ngIf="uiOption.layers[2].color['ranges'].length > 2" (click)="deleteGradientRange(item.index)" class="ddp-icon-listdelete"></em>
                                    </div>
                                    <!-- //list usercolor -->
                                  </div>
                                </div>
                                <!-- //user color -->
                              </div>
                            </div>
                          </div>

                            <div *ngIf="uiOption.layers[2].color['customMode']" class="ddp-data-sum">
                              {{'msg.page.chart.color.measure.new.range.min' | translate}} : {{minValue}} ~ {{'msg.page.chart.color.measure.new.range.max' | translate}} : {{maxValue}}
                            </div>
                            <a *ngIf="'SECTION' == uiOption.layers[2].color['customMode']" (click)="equalColorRange()" href="javascript:" class="ddp-btn-set">
                              {{'msg.page.chart.color.measure.new.range.split.equal' | translate}}
                            </a>
                            <!--<a *ngIf="'GRADIENT' == uiOption.color['customMode']" (click)="equalColorGradation()" href="javascript:" class="ddp-btn-set">-->
                              <!--{{'msg.page.chart.color.measure.new.range.split.equal' | translate}}-->
                            <!--</a>-->
                        </div>
                        <!-- //color by measure part -->
                        <div class="ddp-divide2">
                            <div class="ddp-list-label">{{'msg.page.layer.map.color.transparency' | translate}}</div>
                            <!-- SELECTBOX -->
                            <div class="ddp-type-selectbox" (click)="transparencyFlag=!transparencyFlag;" (clickOutside)="transparencyFlag=false" [excludeBeforeClick]="true">
                                <span class="ddp-txt-selectbox">{{ uiOption.layers[2].color.transparency === 100 ? translateService.instant('msg.page.layer.map.color.transparency.none') : translateNumber('transparency', uiOption.layers[2].color.transparency) }}</span>
                                <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="transparencyFlag">
                                    <li (click)="changeTransparency(100)"><a href="#">{{'msg.page.layer.map.color.transparency.none' | translate}}</a></li>
                                    <li (click)="changeTransparency(80)"><a href="#">20%</a></li>
                                    <li (click)="changeTransparency(60)"><a href="#">40%</a></li>
                                    <li (click)="changeTransparency(40)"><a href="#">60%</a></li>
                                    <li (click)="changeTransparency(20)"><a href="#">80%</a></li>
                                    <li (click)="changeTransparency(0)"><a href="#">100%</a></li>
                                </ul>
                            </div>
                            <!-- //SELECTBOX -->
                        </div>
                      </div>
                  </div>
                  <!-- //divide -->
              </div>

              <!-- divide -->
              <div class="ddp-divide2">
                  <div class="ddp-list-label">{{'msg.page.layer.map.coverage' | translate}}</div>
                  <!-- SELECTBOX -->
                  <div class="ddp-type-selectbox" (click)="resolutionFlag=!resolutionFlag;" (clickOutside)="resolutionFlag=false" [excludeBeforeClick]="true">
                      <span class="ddp-txt-selectbox">{{ translateNumber('hexagonRadius', uiOption.layers[2].color.resolution) }}</span>
                      <ul class="ddp-list-selectbox ddp-selectdown" style="display: block" *ngIf="resolutionFlag">
                          <li (click)="changeResolution(5)"><a href="#">100%</a></li>
                          <li (click)="changeResolution(6)"><a href="#">80%</a></li>
                          <li (click)="changeResolution(7)"><a href="#">60%</a></li>
                          <li (click)="changeResolution(8)"><a href="#">40%</a></li>
                          <li (click)="changeResolution(9)"><a href="#">20%</a></li>
                      </ul>
                  </div>
                  <!-- //SELECTBOX -->
              </div>
              <!-- //divide -->
              </div>
          </div>
          <!-- //레이어 유형 : 타일 -->
        </div>
      </div>
    </div>
  </div>
</div>
